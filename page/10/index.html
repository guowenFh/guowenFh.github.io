<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="/favicon.ico?v=2.6.2" type="image/png" sizes="16x16"><link rel="icon" href="/favicon.ico?v=2.6.2" type="image/png" sizes="32x32"><meta name="description" content="芝兰生于深林，不以无人而不芳。">
<meta property="og:type" content="website">
<meta property="og:title" content="三省吾身丶丶">
<meta property="og:url" content="http://guowenfh.github.io/page/10/index.html">
<meta property="og:site_name" content="三省吾身丶丶">
<meta property="og:description" content="芝兰生于深林，不以无人而不芳。">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="guowenfh">
<meta name="twitter:card" content="summary"><title>三省吾身丶丶</title><link ref="canonical" href="http://guowenfh.github.io/page/10/index.html"><link rel="alternate" href="/atom.xml" type="application/atom+xml"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.1/css/all.min.css" type="text/css"><link rel="stylesheet" href="/css/index.css?v=2.6.2"><link rel="dns-prefetch" href="https://hm.baidu.com"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement('script');
  hm.src = 'https://hm.baidu.com/hm.js?23a157b5fe12ea1f925808de31def828';
  hm.async = true;

  if (false) {
    hm.setAttribute('data-pjax', '');
  }
  var s = document.getElementsByTagName('script')[0]; 
  s.parentNode.insertBefore(hm, s);
})();</script><script>var Stun = window.Stun || {};
var CONFIG = {
  root: '/',
  algolia: undefined,
  assistSearch: ["google","bing","baidu"],
  fontIcon: {"prompt":{"success":"fas fa-check-circle","info":"fas fa-arrow-circle-right","warning":"fas fa-exclamation-circle","error":"fas fa-times-circle"},"copyBtn":"fas fa-copy"},
  sidebar: {"offsetTop":"20px","tocMaxDepth":6},
  header: {"enable":true,"showOnPost":false,"scrollDownIcon":true},
  postWidget: {"endText":true},
  nightMode: {"enable":true},
  back2top: {"enable":true},
  codeblock: {"style":"default","highlight":"light","wordWrap":false},
  reward: false,
  fancybox: false,
  zoomImage: {"gapAside":"20px"},
  galleryWaterfall: undefined,
  lazyload: false,
  pjax: undefined,
  externalLink: {"icon":{"enable":true,"name":"fas fa-external-link-alt"}},
  shortcuts: undefined,
  prompt: {"copyButton":"复制","copySuccess":"复制成功","copyError":"复制失败"},
  sourcePath: {"js":"js","css":"css","images":"images"},
};

window.CONFIG = CONFIG;</script><meta name="generator" content="Hexo 5.4.0"></head><body><div class="container" id="container"><header class="header" id="header"><div class="header-inner"><nav class="header-nav header-nav--fixed"><div class="header-nav-inner"><div class="header-nav-menubtn"><i class="fas fa-bars"></i></div><div class="header-nav-menu"><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/"><span class="header-nav-menu-item__icon"><i class="fas fa-home"></i></span><span class="header-nav-menu-item__text">首页</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/archives/"><span class="header-nav-menu-item__icon"><i class="fas fa-folder-open"></i></span><span class="header-nav-menu-item__text">归档</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/categories/"><span class="header-nav-menu-item__icon"><i class="fas fa-layer-group"></i></span><span class="header-nav-menu-item__text">分类</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/tags/"><span class="header-nav-menu-item__icon"><i class="fas fa-tags"></i></span><span class="header-nav-menu-item__text">标签</span></a></div></div><div class="header-nav-search"><span class="header-nav-search__icon"><i class="fas fa-search"></i></span><span class="header-nav-search__text">搜索</span></div><div class="header-nav-mode"><div class="mode"><div class="mode-track"><span class="mode-track-moon"></span><span class="mode-track-sun"></span></div><div class="mode-thumb"></div></div></div></div></nav><div class="header-banner"><div class="header-banner-info"><div class="header-banner-info__title">三省吾身丶丶</div><div class="header-banner-info__subtitle">兴趣遍地都是，专注和持之以恒才是真正稀缺的。</div></div><div class="header-banner-arrow"><div class="header-banner-arrow__icon"><i class="fas fa-angle-down"></i></div></div></div></div></header><main class="main" id="main"><div class="main-inner"><div class="content-wrap" id="content-wrap"><div class="content content-home" id="content"><section class="postlist"><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2015/12/31/jQuery-02-DocumentObjectModel/">jQuery入门笔记之（二）文档对象模型</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2015-12-31</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2020-03-12</span></span><span class="post-meta-item post-meta-item--wordcount"><span class="post-meta-item__icon"><i class="far fa-file-word"></i></span><span class="post-meta-item__info">字数统计</span><span class="post-meta-item__value">3.3k</span></span><span class="post-meta-item post-meta-item--readtime"><span class="post-meta-item__icon"><i class="far fa-clock"></i></span><span class="post-meta-item__info">阅读时长</span><span class="post-meta-item__value">21分</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h2 id="基础-DOM-和-和-CSS"   >
          <a href="#基础-DOM-和-和-CSS" class="heading-link"><i class="fas fa-link"></i></a><a href="#基础-DOM-和-和-CSS" class="headerlink" title="基础 DOM 和 和 CSS"></a>基础 DOM 和 和 CSS</h2>
      
        <h3 id="一-设置元素及内容"   >
          <a href="#一-设置元素及内容" class="heading-link"><i class="fas fa-link"></i></a><a href="#一-设置元素及内容" class="headerlink" title="一. 设置元素及内容"></a>一. 设置元素及内容</h3>
      <p>我们通过前面所学习的各种选择器、过滤器来得到我们想要操作的元素。这个时候，我们就可以对这些元素进行 DOM 的操作。<br>那么，最常用的操作就是对元素内容的获取和修改。<code>html()</code>和 <code>text()</code>方法:</p>
<div class="table-container"><table>
<thead>
<tr>
<th>方法名</th>
<th>描述</th>
<th>区分</th>
</tr>
</thead>
<tbody><tr>
<td><code>html() </code></td>
<td>获取元素中 HTML 内容</td>
<td>连同标签一起提取</td>
</tr>
<tr>
<td><code>html(value) </code></td>
<td>设置元素中 HTML 内容</td>
<td>清空原数据，设置html内容</td>
</tr>
<tr>
<td><code>text() </code></td>
<td>获取元素中文本内容</td>
<td>自动清理html标签</td>
</tr>
<tr>
<td><code>text(value) </code></td>
<td>设置元素中文本内容</td>
<td>自动转义html标签以文本形式呈现</td>
</tr>
<tr>
<td><code>val() </code></td>
<td>获取表单中的文本内容</td>
<td>value属性的值</td>
</tr>
<tr>
<td><code>val(value) </code></td>
<td>设置表单中的文本内容</td>
<td>设置value的值(有特殊用法)</td>
</tr>
</tbody></table></div>
<p><strong>注意：</strong>当我们使用<code> html()</code>或 <code>text()</code>设置元素里的内容时，会清空原来的数据。而我们期望能够追加数据的话，需要先获取原本的数据。</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;#box&#x27;</span>).html($(<span class="string">&#x27;#box&#x27;</span>).html() + <span class="string">&#x27;&lt;em&gt;guowenfh.github.io&lt;/em&gt;&#x27;</span>); <span class="comment">//追加数据</span></span><br><span class="line"><span class="comment">//当然它还支持使用函数来进行更复杂的追加</span></span><br></pre></td></tr></table></div></figure>

<p><strong><code>val()</code>的特殊用法：</strong><br>如果想设置多个选项的选定状态，比如下拉列表、单选复选框等等，可以通过数组传递操作。</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&quot;input&quot;</span>).val([<span class="string">&quot;check1&quot;</span>,<span class="string">&quot;check2&quot;</span>, <span class="string">&quot;radio1&quot;</span>]); <span class="comment">//value 值是这些的将被选定</span></span><br></pre></td></tr></table></div></figure>



        <h3 id="二-元素属性操作"   >
          <a href="#二-元素属性操作" class="heading-link"><i class="fas fa-link"></i></a><a href="#二-元素属性操作" class="headerlink" title="二. 元素属性操作"></a>二. 元素属性操作</h3>
      <p>除了对元素内容进行设置和获取，通过jQuery也可以对元素本身的属性进行操作，包括获取属性的属性值、设置属性的属性值，并且可以删除掉属性。<br><code>attr()</code>和<code>removeAttr()</code>：</p>
<div class="table-container"><table>
<thead>
<tr>
<th>方法名</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>attr(key)</code></td>
<td>获取某个元素 key 属性的属性值</td>
</tr>
<tr>
<td><code>attr(key, value)</code></td>
<td>设置某个元素 key 属性的属性值</td>
</tr>
<tr>
<td><code>attr(&#123;key1:value2, key2:value2...&#125;)</code></td>
<td>设置某个元素多个 key 属性的属性值</td>
</tr>
<tr>
<td><code>attr(key, function (index, value)&#123;&#125;)</code></td>
<td>通过 fn 来设置设置某个元素 key属性</td>
</tr>
</tbody></table></div>
<p><strong>注意：</strong></p>
<ol>
<li>jQuery中很多方法都可以使用 <code>function() &#123;&#125;</code>来返回出字符串，比如 <code>html()</code>、<code>text()</code>、<code>val()</code>和上一章刚学过的 <code>is()</code>、<code>filter()</code>方法。<br>这些方法里的<code>function() &#123;&#125;</code>，可以不传参数。可以只传一个参数 <code>index</code>，表示当前元素的索引(从0开始)。也可以传递两个参数 <code>index</code>、<code>value</code>，第二个参数表示属性原本的值。<br>(当然并不是所有方法都适合，有兴趣可以自己逐个尝试)。</li>
<li>删除指定的属性，这个方法就不可以使用匿名函数，传递<code>index</code>和<code>value</code>均无效。<code>$(&#39;div&#39;).removeAttr(&#39;title&#39;); //删除指定的属性</code></li>
<li>当然因为<code>id</code>和<code>class</code>也是元素的属性，自然也可以使用attr进行设置，但是建议不这样使用，因为会导致整个页面结构的混乱，有专门的属性对它们进行设置。</li>
</ol>

        <h3 id="三-元素样式操作"   >
          <a href="#三-元素样式操作" class="heading-link"><i class="fas fa-link"></i></a><a href="#三-元素样式操作" class="headerlink" title="三. 元素样式操作"></a>三. 元素样式操作</h3>
      <p>元素样式操作包括了直接设置 CSS 样式、增加 CSS 类别、类别切换、删除类别这几种操作方法。使用频率极高！</p>
<div class="table-container"><table>
<thead>
<tr>
<th>方法名</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>css(name) </code></td>
<td>获取某个元素行内的 CSS 样式</td>
</tr>
<tr>
<td><code>css([name1, name2, name3]) </code></td>
<td>获取某个元素行内多个 CSS 样式</td>
</tr>
<tr>
<td><code>css(name, value) </code></td>
<td>设置某个元素行内的 CSS 样式</td>
</tr>
<tr>
<td><code>css(name, function (index, value) ) </code></td>
<td>设置某个元素行内的 CSS 样式</td>
</tr>
<tr>
<td><code>css(&#123;name1 : value1, name2 : value2&#125;) </code></td>
<td>设置某个元素行内多个 CSS 样式，键值对</td>
</tr>
<tr>
<td><code>addClass(class) </code></td>
<td>给某个元素添加一个 CSS 类</td>
</tr>
<tr>
<td><code>addClass(class1 class2 class3...) </code></td>
<td>给某个元素添加多个 CSS 类</td>
</tr>
<tr>
<td><code>removeClass(class) </code></td>
<td>删除某个元素的一个 CSS 类</td>
</tr>
<tr>
<td><code>removeClass(class1 class2 class3...) </code></td>
<td>删除某个元素的多个 CSS 类</td>
</tr>
<tr>
<td><code>toggleClass(class) </code></td>
<td>来回切换默认样式和指定样式</td>
</tr>
<tr>
<td><code>toggleClass(class1 class2 class3...) </code></td>
<td>同上</td>
</tr>
<tr>
<td><code>toggleClass(class, switch) </code></td>
<td>来回切换样式的时候设置切换频率</td>
</tr>
<tr>
<td><code>toggleClass(function () &#123;&#125;) </code></td>
<td>通过匿名函数设置切换的规则</td>
</tr>
<tr>
<td><code>toggleClass(function () &#123;&#125;, switch) </code></td>
<td>在匿名函数设置时也可以设置频率</td>
</tr>
<tr>
<td><code>toggleClass(function (i, c, s) &#123;&#125;, switch) </code></td>
<td>在匿名函数设置时传递三个参数</td>
</tr>
</tbody></table></div>
<p><strong>理解：</strong></p>
<p>在获取多个 CSS 样式时，获取到的是一个对象数组，如果用原生JS进行解析需要使用<code>for in</code>遍历。</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> box = $(<span class="string">&#x27;div&#x27;</span>).css([<span class="string">&#x27;color&#x27;</span>, <span class="string">&#x27;height&#x27;</span>, <span class="string">&#x27;width&#x27;</span>]); <span class="comment">//得到多个 CSS 样式的数组对象</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> box) &#123; <span class="comment">//逐个遍历出来</span></span><br><span class="line">    alert(i + <span class="string">&#x27;:&#x27;</span> + box[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>在jQuery显然不需要那么麻烦，因为它提供了一个遍历工具专门来处理这种对象数组，<code>$.each()</code>方法，这个方法可以轻松的遍历对象数组。</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 遍历对象数组</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param  <span class="type">&#123;String&#125;</span> </span>index 索引，鍵，属性名</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param  <span class="type">&#123;String&#125;</span> </span>value  属性值，值（相当于arr[i]）</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">//遍历原生JS对象数组时，value为元素DOM。</span></span><br><span class="line">$.each(box, <span class="function"><span class="keyword">function</span>(<span class="params">index, value</span>) </span>&#123;</span><br><span class="line">    alert(index+<span class="string">&quot;:&quot;</span>+value);<span class="comment">//效果和上面的一样</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></div></figure>


<p>如果想设置某个元素的 CSS 样式的值，但这个值需要计算我们可以传递一个匿名函数。</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;div&#x27;</span>).css(<span class="string">&#x27;width&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">index, value</span>) </span>&#123;</span><br><span class="line"><span class="keyword">return</span> (<span class="built_in">parseInt</span>(value) - <span class="number">50</span>) + <span class="string">&#x27;px&#x27;</span>;<span class="comment">//局部操作，不影响全局，避免冲突。</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></div></figure>

<p>在使用<code>.toggleClass()</code>使用时，可以使用传入匿名函数的方法，实现由默认到几个class之间的切换。例如：</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//注意这里必须要先删除原有的样式，不然只是被覆盖了，而不是替换。</span></span><br><span class="line">$(<span class="string">&#x27;div&#x27;</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="built_in">this</span>).toggleClass(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> ($(<span class="built_in">this</span>).hasClass(<span class="string">&#x27;red&#x27;</span>)) &#123;</span><br><span class="line">            $(<span class="built_in">this</span>).removeClass(<span class="string">&#x27;red&#x27;</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;blue&#x27;</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            $(<span class="built_in">this</span>).removeClass(<span class="string">&#x27;blue&#x27;</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;red&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></div></figure>

<p>对于<code>.toggleClass()</code>传入匿名函数的方法，还可以可以传递 <code>index</code>索引、<code>class</code>类两个参数以及频率布尔值，可以得到当前的索引、class类名和频率布尔值。</p>

        <h3 id="四-CSS方法"   >
          <a href="#四-CSS方法" class="heading-link"><i class="fas fa-link"></i></a><a href="#四-CSS方法" class="headerlink" title="四. CSS方法"></a>四. CSS方法</h3>
      
        <h4 id="（一）width-方法"   >
          <a href="#（一）width-方法" class="heading-link"><i class="fas fa-link"></i></a><a href="#（一）width-方法" class="headerlink" title="（一）width()方法"></a>（一）width()方法</h4>
      <div class="table-container"><table>
<thead>
<tr>
<th>方法名</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>width()</code></td>
<td>获取某个元素的宽度(number)</td>
</tr>
<tr>
<td><code>width(value)</code></td>
<td>设置某个元素的宽度(无单位时，默认px)</td>
</tr>
<tr>
<td><code>width(function (index, width) &#123;&#125;)</code></td>
<td>通过匿名函数设置某个元素的宽度</td>
</tr>
</tbody></table></div>
<p>虽然可以不加单位，但是建议加上，使代码更加清晰。<br>index 是索引，value 是原本值。</p>

        <h4 id="（二）height-方法"   >
          <a href="#（二）height-方法" class="heading-link"><i class="fas fa-link"></i></a><a href="#（二）height-方法" class="headerlink" title="（二）height()方法"></a>（二）height()方法</h4>
      <div class="table-container"><table>
<thead>
<tr>
<th>方法名</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>height()</code></td>
<td>获取某个元素的高度</td>
</tr>
<tr>
<td><code>height(value)</code></td>
<td>设置某个元素的高度</td>
</tr>
<tr>
<td><code>height(function (index, height) &#123;&#125;)</code></td>
<td>通过匿名函数设置某个元素的高度</td>
</tr>
</tbody></table></div>
<p>上述两个方法不包括内外边距和边框</p>

        <h4 id="（三）内外边距和边框尺寸方法"   >
          <a href="#（三）内外边距和边框尺寸方法" class="heading-link"><i class="fas fa-link"></i></a><a href="#（三）内外边距和边框尺寸方法" class="headerlink" title="（三）内外边距和边框尺寸方法"></a>（三）内外边距和边框尺寸方法</h4>
      <div class="table-container"><table>
<thead>
<tr>
<th>方法名</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>innerWidth()</code></td>
<td>获取元素宽度，包含内边距 padding</td>
</tr>
<tr>
<td><code>innerHeight()</code></td>
<td>获取元素高度，包含内边距 padding</td>
</tr>
<tr>
<td><code>outerWidth()</code></td>
<td>获取元素宽度，包含边框 border 和内边距 padding</td>
</tr>
<tr>
<td><code>outerHeight()</code></td>
<td>获取元素高度，包含边框 border 和内边距 padding</td>
</tr>
<tr>
<td><code>outerWidth(ture)</code></td>
<td>同上，且包含外边距(注意里面的true)</td>
</tr>
<tr>
<td><code>outerHeight(true)</code></td>
<td>同上，且包含外边距</td>
</tr>
</tbody></table></div>

        <h4 id="（四）元素偏移方法"   >
          <a href="#（四）元素偏移方法" class="heading-link"><i class="fas fa-link"></i></a><a href="#（四）元素偏移方法" class="headerlink" title="（四）元素偏移方法"></a>（四）元素偏移方法</h4>
      <div class="table-container"><table>
<thead>
<tr>
<th>方法名</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>offset()</code></td>
<td>获取某个元素相对于视口的偏移位置(无论定位与否)</td>
</tr>
<tr>
<td><code>position()</code></td>
<td>获取某个元素相对于父元素的偏移位置</td>
</tr>
<tr>
<td><code>scrollTop()</code></td>
<td>获取垂直滚动条的位置</td>
</tr>
<tr>
<td><code>scrollTop(value)</code></td>
<td>设置垂直滚动条的位置</td>
</tr>
<tr>
<td><code>scrollLeft()</code></td>
<td>获取水平滚动条的值</td>
</tr>
<tr>
<td><code>scrollLeft(value)</code></td>
<td>设置水平滚动条的值</td>
</tr>
</tbody></table></div>
<p><strong>注意：</strong><br>前两个方法，获取得到的是一个对象，如：<code>&#123;left:12,top:32&#125;</code>，所以需要获取其中的一个值的时候，还需要进行选取，例如：<code>$(div).offset.left</code>。获取相对与视口的偏移。</p>
<p>在获取滚动条的值时需要注意的是，对象为window且需要用$包装转化成jQ对象</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="built_in">window</span>).scrollTop(); <span class="comment">//获取当前滚动条的位置</span></span><br><span class="line">$(<span class="built_in">window</span>).scrollTop(<span class="number">300</span>); <span class="comment">//设置当前滚动条的位置</span></span><br></pre></td></tr></table></div></figure>



        <h2 id="DOM-节点操作"   >
          <a href="#DOM-节点操作" class="heading-link"><i class="fas fa-link"></i></a><a href="#DOM-节点操作" class="headerlink" title="DOM 节点操作"></a>DOM 节点操作</h2>
      <p>DOM中有一个非常重要的功能，就是节点模型，也就是DOM中的“M”。页面中的元素结构就是通过这种节点模型来互相对应着的，我们只需要通过这些节点关系，可以创建、插入、替换、克隆、删除等等一些列的元素操作。</p>

        <h3 id="一-创建节点"   >
          <a href="#一-创建节点" class="heading-link"><i class="fas fa-link"></i></a><a href="#一-创建节点" class="headerlink" title="一. 创建节点"></a>一. 创建节点</h3>
      <p>为了使页面更加智能化，有时我们想动态的在 html 结构页面添加一个元素标签，那么在插入之前首先要做的动作就是：创建节点。<br>在jQuery中创建节点异常简单。</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> box = $(<span class="string">&#x27;&lt;div id=&quot;box&quot;&gt;节点&lt;/div&gt;&#x27;</span>); <span class="comment">//创建一个节点</span></span><br><span class="line">$(<span class="string">&#x27;body&#x27;</span>).append(box); <span class="comment">//将节点插入到&lt;body&gt;元素内部</span></span><br></pre></td></tr></table></div></figure>


        <h3 id="二．-插入节点"   >
          <a href="#二．-插入节点" class="heading-link"><i class="fas fa-link"></i></a><a href="#二．-插入节点" class="headerlink" title="二． 插入节点"></a>二． 插入节点</h3>
      <p>在创建节点的过程中，其实我们已经演示怎么通过.append()方法来插入一个节点。但仅仅这个功能远远不能满足我们的需求，除了这个方法，jQuery提供了其他几个方法来插入节点。</p>

        <h4 id="内部插入节点方法"   >
          <a href="#内部插入节点方法" class="heading-link"><i class="fas fa-link"></i></a><a href="#内部插入节点方法" class="headerlink" title="内部插入节点方法"></a>内部插入节点方法</h4>
      <div class="table-container"><table>
<thead>
<tr>
<th>方法名</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>append(content)</code></td>
<td>向指定元素内部后面插入节点content</td>
</tr>
<tr>
<td><code>append(function (index, html) &#123;&#125;)</code></td>
<td>使用匿名函数向指定元素内部后面插入节点</td>
</tr>
<tr>
<td><code>appendTo(content)</code></td>
<td>将指定元素移入到指定元素content 内部后面</td>
</tr>
<tr>
<td><code>prepend(content)</code></td>
<td>向指定元素content 内部的前面插入节点</td>
</tr>
<tr>
<td><code>prepend(function (index, html) &#123;&#125;)</code></td>
<td>使用匿名函数向指定元素内部的前面插入节点</td>
</tr>
<tr>
<td><code>prependTo(content)</code></td>
<td>将指定元素移入到指定元素 content 内部前面</td>
</tr>
</tbody></table></div>
<p>需要注意的是<code>appendTo(content)</code>与<code>prependTo(content)</code>在使用方法上与其他两个略微有些不同，<code>$(&quot;&lt;em&gt;new&lt;/em&gt;&quot;).appendTo(&quot;div&quot;);</code>，它代表的是创建的节点传入div内部。</p>
<p>匿名函数方式：</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;div&#x27;</span>).append(<span class="function"><span class="keyword">function</span> (<span class="params">index, html</span>) </span>&#123;</span><br><span class="line"> <span class="comment">//使用匿名函数插入节点index是获取到的div的索引，html 是原节点</span></span><br><span class="line">    <span class="keyword">if</span>(index==<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;&lt;strong&gt;节点&lt;/strong&gt;&#x27;</span>;<span class="comment">//在获取到的第二个div内部添加节点</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></div></figure>


        <h4 id="外部插入节点方法"   >
          <a href="#外部插入节点方法" class="heading-link"><i class="fas fa-link"></i></a><a href="#外部插入节点方法" class="headerlink" title="外部插入节点方法"></a>外部插入节点方法</h4>
      <div class="table-container"><table>
<thead>
<tr>
<th>方法名</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>after(content)</code></td>
<td>向指定元素的外部后面插入节点 content</td>
</tr>
<tr>
<td><code>after(function (index, html) &#123;&#125;)</code></td>
<td>使用匿名函数向指定元素的外部后面插入节点</td>
</tr>
<tr>
<td><code>before(content)</code></td>
<td>向指定元素的外部前面插入节点 content</td>
</tr>
<tr>
<td><code>before(function (index, html) &#123;&#125;)</code></td>
<td>使用匿名函数向指定元素的外部前面插入节点</td>
</tr>
<tr>
<td><code>insertAfter(content)</code></td>
<td>将指定节点移到指定元素 content 外部的后面</td>
</tr>
<tr>
<td><code>insertBefore(content)</code></td>
<td>将指定节点移到指定元素 content 外部的前面</td>
</tr>
</tbody></table></div>
<p>与上面相同<code>insertAfter(content)</code> 与<code>insertBefore(content)</code>也与其它两个是相反的。</p>

        <h3 id="三．包裹节点"   >
          <a href="#三．包裹节点" class="heading-link"><i class="fas fa-link"></i></a><a href="#三．包裹节点" class="headerlink" title="三．包裹节点"></a>三．包裹节点</h3>
      <p>jQuery 提供了一系列方法用于包裹节点，那包裹节点是什么意思呢？其实就是使用字符串代码将指定元素的代码包含着的意思。</p>
<div class="table-container"><table>
<thead>
<tr>
<th>方法名</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>wrap(html)</code></td>
<td>向指定元素包裹一层 html 代码</td>
</tr>
<tr>
<td><code>wrap(element)</code></td>
<td>向指定元素包裹一层 DOM 对象节点</td>
</tr>
<tr>
<td><code>wrap(function (index) &#123;&#125;)</code></td>
<td>使用匿名函数向指定元素包裹一层自定义内容</td>
</tr>
<tr>
<td><code>unwrap()</code></td>
<td>移除一层指定元素包裹的内容（多层需移除多次）</td>
</tr>
<tr>
<td><code>wrapAll(html)</code></td>
<td>用 html 将所有元素包裹到一起</td>
</tr>
<tr>
<td><code>wrapAll(element)</code></td>
<td>用 DOM 对象将所有元素包裹在一起</td>
</tr>
<tr>
<td><code>wrapInner(html)</code></td>
<td>向指定元素的子内容包裹一层 html</td>
</tr>
<tr>
<td><code>wrapInner(element)</code></td>
<td>向指定元素的子内容包裹一层 DOM 对象节点</td>
</tr>
<tr>
<td><code>wrapInner(function (index) &#123;&#125;)</code></td>
<td>用匿名函数向指定元素的子内容包裹一层</td>
</tr>
</tbody></table></div>
<p>wrap的多种用法：</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;div&#x27;</span>).wrap(<span class="string">&#x27;&lt;strong class=&quot;ing&quot;&gt;&lt;/strong&gt;&#x27;</span>); <span class="comment">//在 div 外层包裹一层 strong</span></span><br><span class="line">$(<span class="string">&#x27;div&#x27;</span>).wrap(<span class="string">&#x27;&lt;strong&gt;123&lt;/strong&gt;&#x27;</span>); <span class="comment">//包裹的元素可以带内容</span></span><br><span class="line">$(<span class="string">&#x27;div&#x27;</span>).wrap(<span class="string">&#x27;&lt;strong&gt;&lt;em&gt;&lt;/em&gt;&lt;/strong&gt;&#x27;</span>); <span class="comment">//包裹多个元素</span></span><br><span class="line">$(<span class="string">&#x27;div&#x27;</span>).wrap($(<span class="string">&#x27;strong&#x27;</span>).get(<span class="number">0</span>)); <span class="comment">//也可以包裹一个原生 DOM</span></span><br><span class="line">$(<span class="string">&#x27;div&#x27;</span>).wrap(<span class="built_in">document</span>.createElement(<span class="string">&#x27;strong&#x27;</span>)); <span class="comment">//临时的原生 DOM</span></span><br><span class="line">$(<span class="string">&#x27;div&#x27;</span>).wrap(<span class="function"><span class="keyword">function</span> (<span class="params">index</span>) </span>&#123; <span class="comment">//匿名函数</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;&lt;strong&gt;&lt;/strong&gt;&#x27;</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></div></figure>


<p><strong>注意：</strong> <code>.wrap()</code>和<code>.wrapAll()</code>的区别在前者把每个元素当成一个独立体，分别包含一层外层；后者将所有元素作为一个整体作为一个独立体，只包含一层外层。这两种都是在外层包含，而<code>.wrapInner()</code>在内层包含。</p>

        <h3 id="四-节点操作"   >
          <a href="#四-节点操作" class="heading-link"><i class="fas fa-link"></i></a><a href="#四-节点操作" class="headerlink" title="四. 节点操作"></a>四. 节点操作</h3>
      <div class="table-container"><table>
<thead>
<tr>
<th>方法名</th>
<th>描述</th>
<th>参数解析</th>
</tr>
</thead>
<tbody><tr>
<td><code>$(&#39;div&#39;).clone(true); </code></td>
<td>复制一个节点</td>
<td>true时表示同时复制事件行为，空或false都表示只复制元素及内容</td>
</tr>
<tr>
<td><code>$(&#39;div&#39;).remove(&quot;#box&quot;);</code></td>
<td>删除一个id=box的div元素</td>
<td>无参数时，表示直接删除元素</td>
</tr>
<tr>
<td><code>$(&#39;div&#39;).detach();</code></td>
<td>保留事件行为的删除</td>
<td>同上</td>
</tr>
<tr>
<td><code>$(&#39;div&#39;).empty();</code></td>
<td>清空节点里的内容</td>
<td>无参数</td>
</tr>
<tr>
<td><code>$(selector).replaceWith(content);</code></td>
<td>将 $(selector) 替换成 content 元素</td>
<td>HTML字符串，DOM元素，或者jQuery对象</td>
</tr>
<tr>
<td><code>$(content).replaceAll(selector); </code></td>
<td>同上</td>
<td>参数selector为被替换的元素，content为替换的内容。</td>
</tr>
</tbody></table></div>
<p><strong>注意：</strong></p>
<ol>
<li><code>.remove()</code>和<code>.detach()</code>都是删除节点，而删除后本身方法可以返回当前被删除的节点对象，但区别在于前者在恢复时不保留事件行为，后者则保留。</li>
<li>节点被替换后，所包含的事件行为就全部消失了。</li>
<li>注意<code>replaceWith()</code>和<code>replaceAll()</code>方法替换的操作的<strong>内容和被替换元素所在的位置不同</strong></li>
</ol>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2015/12/31/jQuery-01-Sizzle/">jQuery入门笔记之（一）选择器引擎</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2015-12-31</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2020-03-12</span></span><span class="post-meta-item post-meta-item--wordcount"><span class="post-meta-item__icon"><i class="far fa-file-word"></i></span><span class="post-meta-item__info">字数统计</span><span class="post-meta-item__value">4.8k</span></span><span class="post-meta-item post-meta-item--readtime"><span class="post-meta-item__icon"><i class="far fa-clock"></i></span><span class="post-meta-item__info">阅读时长</span><span class="post-meta-item__value">33分</span></span></div></header><div class="post-body"><div class="post-excerpt"><blockquote>
<p>本来是单独整理了一个CSS选择器的，但是在jQuery中基本都有对应的，所以就不发了。</p>
<p>jQuery选择器，若未作特别说明，获取的都是元素集合。</p>
</blockquote>

        <h2 id="一-常规选择器"   >
          <a href="#一-常规选择器" class="heading-link"><i class="fas fa-link"></i></a><a href="#一-常规选择器" class="headerlink" title="一. 常规选择器"></a>一. 常规选择器</h2>
      
        <h3 id="（一）简单选择器"   >
          <a href="#（一）简单选择器" class="heading-link"><i class="fas fa-link"></i></a><a href="#（一）简单选择器" class="headerlink" title="（一）简单选择器"></a>（一）简单选择器</h3>
      <p>模仿的是CSS选择器，只不过在使用jQuery选择器时，我们首先必须使用“$()”函数来包装我们的 CSS 规则。<br>而CSS 规则作为参数传递到jQuery对象内部后，再返回包含页面中对应元素的 jQuery 对象。随后可以进行节点操作，例如：<code>$(&#39;#box&#39;).css(&#39;color&#39;, &#39;red&#39;); </code>。</p>
<p>那么除了 ID 选择器之外，还有两种基本的选择器，分别为：元素标签名和类(class)：</p>
<div class="table-container"><table>
<thead>
<tr>
<th>选择器</th>
<th>CSS 模式</th>
<th>jQuery 模式</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>元素名</td>
<td><code>div&#123;&#125;</code></td>
<td><code> $(&#39;div&#39;)</code></td>
<td>获取所有div元素的 DOM 对象</td>
</tr>
<tr>
<td>ID</td>
<td><code>#box &#123;&#125;</code></td>
<td><code>$(&#39;#box&#39;)</code></td>
<td>获取一个 ID 为 box 元素的 DOM 对象</td>
</tr>
<tr>
<td>类(class)</td>
<td><code>.box&#123;&#125;</code></td>
<td><code>$(&#39;.box&#39;)</code></td>
<td>获取所有class为box的所有DOM对象</td>
</tr>
</tbody></table></div>
<p>我们可以采用jQuery核心自带的一个属性length来查看返回的元素个数。(<code>size()</code>方法已经弃用)</p>
<p>在实践过程中发现使用多个id时，css居然都会高亮，jQuery没有这个问题。（标准写明一个页面只能有一个id）</p>
<p>jQuery选择器的写法与CSS选择器十分类似，只不过他们的功能不同。CSS 找到元素后添加的是单一的样式，而jQuery则添加的是动作行为。重要的是<strong>jQuery兼容性更好</strong>，例如：</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#box &gt; p &#123; <span class="comment">//CSS 子选择器，IE6 不支持</span></span><br><span class="line">color:red;</span><br><span class="line">&#125;</span><br><span class="line">$(<span class="string">&#x27;#box &gt; p&#x27;</span>).css(<span class="string">&#x27;color&#x27;</span>,<span class="string">&#x27;red&#x27;</span>); <span class="comment">//jQuery 子选择器，兼容了 IE6</span></span><br></pre></td></tr></table></div></figure>

<p>jQuery选择器支持CSS1、CSS2的全部规则，支持CSS3部分实用的规则，同时它还有少量独有的规则而jQuery选择器在获取节点对象的时候不但简单，还<strong>内置了容错功能</strong>区别如下：</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;#pox&#x27;</span>).css(<span class="string">&#x27;color&#x27;</span>, <span class="string">&#x27;red&#x27;</span>); <span class="comment">//不存在ID为pox的元素，也不报错</span></span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">&#x27;pox&#x27;</span>).style.color = <span class="string">&#x27;red&#x27;</span>; <span class="comment">//报错了</span></span><br></pre></td></tr></table></div></figure>

<p>如何判断jQuery是否调取不存在的元素：</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ($(<span class="string">&#x27;#pox&#x27;</span>).length &gt; <span class="number">0</span>) &#123; <span class="comment">//jQuery对象，判断元素包含数量即可</span></span><br><span class="line">    $(<span class="string">&#x27;#pox&#x27;</span>).css(<span class="string">&#x27;color&#x27;</span>, <span class="string">&#x27;red&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//或者转化成DOM对象方式判断</span></span><br><span class="line"><span class="keyword">if</span> ($(<span class="string">&#x27;#pox&#x27;</span>)[<span class="number">0</span>]) &#123;&#125;; <span class="comment">//通过数组下标也可以获取 DOM 对象</span></span><br><span class="line"><span class="keyword">if</span> ($(<span class="string">&#x27;#pox&#x27;</span>).get(<span class="number">0</span>)) &#123;&#125; ;</span><br></pre></td></tr></table></div></figure>


        <h3 id="（二）进阶选择器"   >
          <a href="#（二）进阶选择器" class="heading-link"><i class="fas fa-link"></i></a><a href="#（二）进阶选择器" class="headerlink" title="（二）进阶选择器"></a>（二）进阶选择器</h3>
      <p>在简单选择器中，我们了解了最基本的三种选择器：元素标签名、ID 和类(class)。那么在基础选择器外，还有一些进阶和高级的选择器方便我们更精准的选择元素</p>
<div class="table-container"><table>
<thead>
<tr>
<th>选择器</th>
<th>CSS 模式</th>
<th>jQuery 模式</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>群组选择器</td>
<td><code>span,.con,.box&#123;&#125;</code></td>
<td><code>$(&#39;span,em,.box&#39;)</code></td>
<td>获取多个选择器的 DOM 对象</td>
</tr>
<tr>
<td>后代选择器</td>
<td><code>ul li a&#123;&#125;</code></td>
<td><code> $(&#39;ul li a&#39;)</code></td>
<td>获取追溯到的多个 DOM 对象</td>
</tr>
<tr>
<td>通配选择器</td>
<td><code>*&#123;&#125;</code></td>
<td><code>$(&#39;*&#39;)</code></td>
<td>获取所有元素标签的 DOM 对象</td>
</tr>
</tbody></table></div>
<p>目前介绍的六种选择器，在实际应用中，我们可以灵活的搭配，使得选择器更加的精准和快速：</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;#box p, ul li *&#x27;</span>).css(<span class="string">&#x27;color&#x27;</span>, <span class="string">&#x27;red&#x27;</span>);<span class="comment">//组合了多种选择器</span></span><br></pre></td></tr></table></div></figure>
<p><strong>警告：</strong>在实际使用上，通配选择器一般用的并不多，一般只用在局部的环境内。因为在大通配上，比如：<code>$(&#39;*&#39;)</code>，这种使用方法效率很低，影响性能，建议尽可能的少用。(CSS上也很少用)</p>
<p>还有一种选择器，可以在ID和类(class)中指明元素前缀，比如：</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;div.box&#x27;</span>); <span class="comment">//限定.box获取到的元素标签名必须是div</span></span><br><span class="line">$(<span class="string">&#x27;p#box div.side&#x27;</span>); <span class="comment">//同上</span></span><br></pre></td></tr></table></div></figure>

<p>如同CSS一样，类(class)有一个特殊的模式，就是同一个DOM节点可以声明多个类(class)。那么对于这种格式，我们有多class选择器可以使用，但要<strong>注意和class群组选择器的区别</strong>。</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.box.pox &#123; <span class="comment">//双 class 选择器获取页面中class同时有.box.pox的元素</span></span><br><span class="line">    color:red;</span><br><span class="line">&#125;</span><br><span class="line">$(<span class="string">&#x27;.box.pox&#x27;</span>).css(<span class="string">&#x27;color&#x27;</span>, <span class="string">&#x27;red&#x27;</span>); <span class="comment">//用多个class进行精准确定</span></span><br></pre></td></tr></table></div></figure>

<p><strong>注意要点：</strong></p>
<blockquote>
<p>只追求必要的确定性。当选择器筛选越复杂，jQuery内部的选择器引擎处理字符串的时间就越长。</p>
</blockquote>

        <h3 id="（三）高级选择器"   >
          <a href="#（三）高级选择器" class="heading-link"><i class="fas fa-link"></i></a><a href="#（三）高级选择器" class="headerlink" title="（三）高级选择器"></a>（三）高级选择器</h3>
      <p>在前面学习了六种最常规的选择器，一般来说通过这六种选择器基本上可以解决所有DOM节点对象选择的问题。但在很多特殊的元素上，比如父子关系的元素，兄弟关系的元素，特殊属性的元素等等并不好获取，下面就来说说这些高级选择器：</p>
<div class="table-container"><table>
<thead>
<tr>
<th>选择器</th>
<th>CSS 模式</th>
<th>jQuery 模式</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>后代选择器</td>
<td><code>ul li a &#123;&#125;</code></td>
<td><code>$(&#39;ul li a&#39;)</code></td>
<td>获取追溯到的多个 DOM 对象</td>
</tr>
<tr>
<td>子选择器</td>
<td><code> div &gt; p &#123;&#125;</code></td>
<td><code> $(&#39;div p&#39;)</code></td>
<td>只获取子类节点的多个 DOM 对象</td>
</tr>
<tr>
<td>next 选择器（相连）</td>
<td><code>div + p &#123;&#125;</code></td>
<td><code> $(&#39;div + p&#39;)</code></td>
<td>只获取某节点后一个同级DOM对象</td>
</tr>
<tr>
<td>nextAll 选择器(之后所有)</td>
<td><code>div ~ p &#123;&#125;</code></td>
<td><code>$(&#39;div ~ p&#39;)</code></td>
<td>获取某节点后面所有同级DOM对象</td>
</tr>
</tbody></table></div>
<p>其实后代选择器我们在进阶选择器里面已经有过使用，这里为什么要再提起呢?</p>
<p>因为它属于层次选择器，在高级选择器中，jQuery为这样的选择器都提供了一个相对应的方法。</p>
<ol>
<li>jQuery为后代选择器提供了一个等价的find(）方法:<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;#box p&#x27;</span>).css(<span class="string">&#x27;color&#x27;</span>, <span class="string">&#x27;red&#x27;</span>); <span class="comment">//后代选择器</span></span><br><span class="line">$(<span class="string">&#x27;#box&#x27;</span>).find(<span class="string">&#x27;p&#x27;</span>).css(<span class="string">&#x27;color&#x27;</span>,<span class="string">&#x27;red&#x27;</span>);<span class="comment">//和后代选择器等价</span></span><br></pre></td></tr></table></div></figure></li>
<li>jQuery为子选择器提供了一个等价的children()方法<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;#box &gt; p&#x27;</span>).css(<span class="string">&#x27;color&#x27;</span>,<span class="string">&#x27;red&#x27;</span>);<span class="comment">//子选择器，孙子失明</span></span><br><span class="line">$(<span class="string">&#x27;#box&#x27;</span>).children(<span class="string">&#x27;p&#x27;</span>).css(<span class="string">&#x27;color&#x27;</span>,<span class="string">&#x27;red&#x27;</span>);<span class="comment">//和子选择器等价</span></span><br></pre></td></tr></table></div></figure></li>
<li>jQuery为next选择器提供了一个等价的next()方法：<figure class="highlight awk"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;#box+p&#x27;</span>).css(<span class="string">&#x27;color&#x27;</span>,<span class="string">&#x27;red&#x27;</span>);<span class="regexp">//</span>下一个同级节点</span><br><span class="line">$(<span class="string">&#x27;#box&#x27;</span>).<span class="keyword">next</span>(<span class="string">&#x27;p&#x27;</span>).css(<span class="string">&#x27;color&#x27;</span>,<span class="string">&#x27;red&#x27;</span>);<span class="regexp">//</span>和<span class="keyword">next</span>选择器等价</span><br></pre></td></tr></table></div></figure></li>
<li>jQuery为nextAll选择器提供了一个等价的方法nextAll()：<figure class="highlight arcade"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;#box ~ p&#x27;</span>).css(<span class="string">&#x27;color&#x27;</span>,<span class="string">&#x27;red&#x27;</span>);<span class="comment">//后面所有同级节点</span></span><br><span class="line">$(<span class="string">&#x27;#box&#x27;</span>).nextAll(<span class="string">&#x27;p&#x27;</span>).css(<span class="string">&#x27;color&#x27;</span>, <span class="string">&#x27;red&#x27;</span>); <span class="comment">//和 nextAll 选择器等价</span></span><br></pre></td></tr></table></div></figure></li>
</ol>
<p><strong>需要注意的是：</strong></p>
<ol>
<li>层次选择器对节点的层次都是有要求的，比如子选择器，有子节点才可以被选择到，孙子节点和重孙子节点都无法选择到。next和nextAll选择器，必须是同一个层次的后一个和后N个，不在同一个层次就无法选取到了。</li>
<li>在 <code>find()</code>、<code>children()</code>、<code>next()</code>和<code>nextAll()</code>和这四个方法中，如果不传递参数，就相当于传递了“<em>”，选择所有符合条件的元素，*<em>建议尽量保持参数的传递</em></em></li>
</ol>
<p><strong>jQuery独有补充方法。CSS未含有</strong></p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;#box&#x27;</span>).prev(<span class="string">&#x27;p&#x27;</span>).css(<span class="string">&#x27;color&#x27;</span>,<span class="string">&#x27;red&#x27;</span>);<span class="comment">//同级上一个元素</span></span><br><span class="line">$(<span class="string">&#x27;#box&#x27;</span>).prevAll(<span class="string">&#x27;p&#x27;</span>).css(<span class="string">&#x27;color&#x27;</span>,<span class="string">&#x27;red&#x27;</span>);<span class="comment">//同级上面所有的元素</span></span><br><span class="line"></span><br><span class="line">$(<span class="string">&#x27;#box&#x27;</span>).prevUntil(<span class="string">&#x27;p&#x27;</span>).css(<span class="string">&#x27;color&#x27;</span>,<span class="string">&#x27;red&#x27;</span>);<span class="comment">//同级上非指定元素选定，遇到则停止</span></span><br><span class="line">$(<span class="string">&#x27;#box&#x27;</span>).nextUntil(<span class="string">&#x27;p&#x27;</span>).css(<span class="string">&#x27;color&#x27;</span>,<span class="string">&#x27;red&#x27;</span>);<span class="comment">//同级下非指定元素选定，遇到则停止</span></span><br><span class="line"></span><br><span class="line">$(<span class="string">&#x27;#box&#x27;</span>).siblings(<span class="string">&#x27;p&#x27;</span>).css(<span class="string">&#x27;color&#x27;</span>,<span class="string">&#x27;red&#x27;</span>);<span class="comment">//siblings()方法正好集成了prevAll()和nextAll()两个功能的效果，及上下相邻的所有元素进行选定：</span></span><br></pre></td></tr></table></div></figure>

<p><strong>扩展：</strong></p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;p&#x27;</span>, <span class="string">&#x27;#box&#x27;</span>);<span class="comment">//jQuery会自动把这条语句转成$(&#x27;#box&#x27;).find(&#x27;p&#x27;)，这会导致一定的性能损失。</span></span><br><span class="line"></span><br><span class="line">$(<span class="string">&#x27;p&#x27;</span>, $(<span class="string">&#x27;#parent&#x27;</span>));<span class="comment">//jQuery内部会也将这条语句转成$(&#x27;#box&#x27;).find(&#x27;p&#x27;)</span></span><br></pre></td></tr></table></div></figure>

<p>这里，<strong>推荐使用jQuery提供的方法。</strong>使用“+”或“~”从字面上没有next和nextAll更加语义化，更加清晰，jQuery的方法更加丰富，提供了相对的prev和prevAll。<br>并且有时需要能够灵活的拆分和组合选择器。所以，如果jQuery提供了独立的方法来代替某些选择器的功能，推荐优先使用独立的方法。</p>

        <h3 id="（四）属性选择器"   >
          <a href="#（四）属性选择器" class="heading-link"><i class="fas fa-link"></i></a><a href="#（四）属性选择器" class="headerlink" title="（四）属性选择器"></a>（四）属性选择器</h3>
      <blockquote>
<p>注意<code>¦</code>应该是<code>|</code>，因为markdown表格解析的问题，所以用来替代</p>
</blockquote>
<div class="table-container"><table>
<thead>
<tr>
<th>CSS 模式</th>
<th>jQuery模式</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>a[title]</code></td>
<td><code>$(&#39;a[title]&#39;)</code></td>
<td>获取具有这个属性的 DOM 对象</td>
</tr>
<tr>
<td><code>a[title=num1]</code></td>
<td><code>$(&#39;a[title=num1]&#39;)</code></td>
<td>获取具有这个属性=这个属性值的DOM对象</td>
</tr>
<tr>
<td><code>a[title^=num]</code></td>
<td><code>$(&#39;a[title^=num]&#39;)</code></td>
<td>获取具有这个属性且开头属性值匹配的DOM对象</td>
</tr>
<tr>
<td><code>a[title¦=num]</code></td>
<td><code>$(&#39;a[title¦=num]&#39;)</code></td>
<td>获取具有这个属性且等于属性值或开头属性值匹配后面跟一个<code>-</code>号的DOM对象</td>
</tr>
<tr>
<td><code>a[title$=num]</code></td>
<td><code>$(&#39;a[title$=num]&#39;)</code></td>
<td>获取具有这个属性且结尾属性值匹配的DOM对象</td>
</tr>
<tr>
<td><code>a[title!=num]</code></td>
<td><code>$(&#39;a[title!=num]&#39;)</code></td>
<td>获取不具有这个属性或不等于该属性值的DOM对象</td>
</tr>
<tr>
<td><code>a[title~=num]</code></td>
<td><code>$(&#39;a[title~=num]&#39;)</code></td>
<td>获取具有这个属性且属性值是以一个空格分割的列表，其中包含属性值的DOM对象</td>
</tr>
<tr>
<td><code>a[title*=num]</code></td>
<td><code>$(&#39;a[title*=num]&#39;)</code></td>
<td>获取具有这个属性且属性值含有一个指定字串的DOM对象</td>
</tr>
<tr>
<td><code>a[bbb][title=num1]</code></td>
<td><code>$(&#39;a[bbb][title=num1]&#39;)</code></td>
<td>获取具有这个属性且属性值匹配的DOM对象</td>
</tr>
</tbody></table></div>

        <h2 id="二-过滤选择器"   >
          <a href="#二-过滤选择器" class="heading-link"><i class="fas fa-link"></i></a><a href="#二-过滤选择器" class="headerlink" title="二. 过滤选择器"></a>二. 过滤选择器</h2>
      
        <h3 id="（一）基本过滤器"   >
          <a href="#（一）基本过滤器" class="heading-link"><i class="fas fa-link"></i></a><a href="#（一）基本过滤器" class="headerlink" title="（一）基本过滤器"></a>（一）基本过滤器</h3>
      <div class="table-container"><table>
<thead>
<tr>
<th>过滤器名</th>
<th>jQuery 语法</th>
<th>说明</th>
<th>返回</th>
</tr>
</thead>
<tbody><tr>
<td><code>:first</code></td>
<td><code>$(&#39;li:first&#39;)</code></td>
<td>选取第一个元素</td>
<td>单个</td>
</tr>
<tr>
<td><code>:last </code></td>
<td><code>$(&#39;li:last&#39;) </code></td>
<td>选取最后一个元素</td>
<td>单个</td>
</tr>
<tr>
<td><code>:not(selector)</code></td>
<td><code>$(&#39;li:not(.red)&#39;)</code></td>
<td>选取class不是red的li元素</td>
<td>集合</td>
</tr>
<tr>
<td><code>:even</code></td>
<td><code> $(&#39;li:even&#39;)</code></td>
<td>选择索引(以下几个都是从0开始)是偶数的所有元素</td>
<td>集合</td>
</tr>
<tr>
<td><code>:odd </code></td>
<td><code>$(&#39;li:odd&#39;)</code></td>
<td>选择索引是奇数的所有元素</td>
<td>集合</td>
</tr>
<tr>
<td><code>:eq(index)</code></td>
<td><code>$(&#39;li:eq(2)&#39;)</code></td>
<td>选择索引等于index的元素(负数从后开始)</td>
<td>单个</td>
</tr>
<tr>
<td><code>:gt(index)</code></td>
<td><code>$(&#39;li:gt(2)&#39;)</code></td>
<td>选择索引大于index的元素</td>
<td>集合</td>
</tr>
<tr>
<td><code>:lt(index)</code></td>
<td><code>$(&#39;li.lt(2)&#39;)</code></td>
<td>选择索引小于index的元素</td>
<td>集合</td>
</tr>
<tr>
<td><code>:header</code></td>
<td><code>$(&#39;:header&#39;) </code></td>
<td>选择标题元素，h1~h6</td>
<td>集合</td>
</tr>
<tr>
<td><code>:animated</code></td>
<td><code>$(&#39;:animated&#39;)</code></td>
<td>选择正在执行动画的元素</td>
<td>集合</td>
</tr>
<tr>
<td><code>:focus</code></td>
<td><code>$(&#39;:focus&#39;)</code></td>
<td>选择当前被焦点的元素</td>
<td>集合</td>
</tr>
</tbody></table></div>
<p><strong>注意：</strong><code>:focus</code>过滤器，必须是网页初始状态的已经被激活焦点的元素才能实现元素获取。而不是鼠标点击或者Tab键盘敲击激活的。</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;input&#x27;</span>).get(<span class="number">0</span>).focus(); <span class="comment">//先初始化激活一个元素焦点</span></span><br><span class="line">$(<span class="string">&#x27;:focus&#x27;</span>).css(<span class="string">&#x27;background&#x27;</span>, <span class="string">&#x27;red&#x27;</span>); <span class="comment">//被焦点的元素</span></span><br></pre></td></tr></table></div></figure>

<p>jQuery为最常用的过滤器提供了专用的方法，如下：</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;li&#x27;</span>).eq(<span class="number">2</span>).css(<span class="string">&#x27;background&#x27;</span>,<span class="string">&#x27;#ccc&#x27;</span>);<span class="comment">//元素li的第三个元素，负数从后开始</span></span><br><span class="line">$(<span class="string">&#x27;li&#x27;</span>).first().css(<span class="string">&#x27;background&#x27;</span>,<span class="string">&#x27;#ccc&#x27;</span>);<span class="comment">//元素li的第一个元素</span></span><br><span class="line">$(<span class="string">&#x27;li&#x27;</span>).last().css(<span class="string">&#x27;background&#x27;</span>,<span class="string">&#x27;#ccc&#x27;</span>);<span class="comment">//元素li的最后一个元素</span></span><br><span class="line">$(<span class="string">&#x27;li&#x27;</span>).not(<span class="string">&#x27;.red&#x27;</span>).css(<span class="string">&#x27;background&#x27;</span>,<span class="string">&#x27;#ccc&#x27;</span>);<span class="comment">//元素li不含class为red的元素</span></span><br></pre></td></tr></table></div></figure>


        <h3 id="（二）内容过滤器"   >
          <a href="#（二）内容过滤器" class="heading-link"><i class="fas fa-link"></i></a><a href="#（二）内容过滤器" class="headerlink" title="（二）内容过滤器"></a>（二）内容过滤器</h3>
      <p>内容过滤器的过滤规则主要是包含的子元素或文本内容上。</p>
<div class="table-container"><table>
<thead>
<tr>
<th>过滤器名</th>
<th>jQuery语法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>:contains(text)</code></td>
<td><code>$(&#39;:contains(&quot;ycku.com&quot;)&#39;)</code></td>
<td>选取含”ycku.com”文本的元素</td>
</tr>
<tr>
<td><code>:empty</code></td>
<td><code>$(&#39;:empty&#39;)</code></td>
<td>选取不包含子元素或空文本的元素</td>
</tr>
<tr>
<td><code>:has(selector)</code></td>
<td><code>$(&#39;:has(.red)&#39;)</code></td>
<td>选取含有class是red的元素(在父元素调用)</td>
</tr>
<tr>
<td><code>:parent</code></td>
<td><code>$(&#39;:parent&#39;)</code></td>
<td>选取含有子元素或文本的元素</td>
</tr>
</tbody></table></div>
<p>jQuery 提供了一个 has()方法来提高:has 过滤器的性能：</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;ul&#x27;</span>).has(<span class="string">&#x27;.red&#x27;</span>).css(<span class="string">&#x27;background&#x27;</span>, <span class="string">&#x27;#ccc&#x27;</span>); <span class="comment">//选择子元素含有 class 是 red 的元素</span></span><br></pre></td></tr></table></div></figure>


<p>jQuery提供了一个名称和:parent相似的方法，但这个方法并不是选取含有子元素或文本的元素，而是获取当前元素的父元素，返回的是元素集合。</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;li&#x27;</span>).parent().css(<span class="string">&#x27;background&#x27;</span>,<span class="string">&#x27;#ccc&#x27;</span>);<span class="comment">//选择当前元素的父元素</span></span><br><span class="line">$(<span class="string">&#x27;li&#x27;</span>).parents().css(<span class="string">&#x27;background&#x27;</span>,<span class="string">&#x27;#ccc&#x27;</span>);<span class="comment">//选择当前元素的父元素及祖先元素（追溯到html）</span></span><br><span class="line">$(<span class="string">&#x27;li&#x27;</span>).parentsUntil(<span class="string">&#x27;html&#x27;</span>).css(<span class="string">&#x27;background&#x27;</span>,<span class="string">&#x27;#ccc&#x27;</span>);<span class="comment">//选择当前元素遇到html父元素停止（会在body上加）</span></span><br></pre></td></tr></table></div></figure>


        <h3 id="（三）可见性过滤器"   >
          <a href="#（三）可见性过滤器" class="heading-link"><i class="fas fa-link"></i></a><a href="#（三）可见性过滤器" class="headerlink" title="（三）可见性过滤器"></a>（三）可见性过滤器</h3>
      <p>可见性过滤器根据元素的可见性和不可见性来选择相应的元素。</p>
<div class="table-container"><table>
<thead>
<tr>
<th>过滤器名</th>
<th>jQuery 语法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>:hidden</code></td>
<td><code> $(&#39;:hidden&#39;)</code></td>
<td>选取所有不可见元素</td>
</tr>
<tr>
<td><code>:visible</code></td>
<td><code> $(&#39;:visible&#39;)</code></td>
<td>选取所有可见元素</td>
</tr>
</tbody></table></div>
<p><strong>注意：</strong>:hidden过滤器一般是包含的内容为：CSS样式为<code>display:none</code>、input表单类型为<code>type=&quot;hidden&quot;</code>和<code>visibility:hidden</code>的元素。</p>

        <h3 id="（四）子元素过滤器"   >
          <a href="#（四）子元素过滤器" class="heading-link"><i class="fas fa-link"></i></a><a href="#（四）子元素过滤器" class="headerlink" title="（四）子元素过滤器"></a>（四）子元素过滤器</h3>
      <p>子元素过滤器的过滤规则是通过父元素和子元素的关系来获取相应的元素。</p>
<p>|过滤器名|jQuery语法|说明|<br>|—|—|—|—|<br>|<code>:first-child</code>|<code>$(&#39;li:first-child&#39;)</code>|获取每个父元素的第一个子元素|<br>|<code>:last-child</code>|<code>$(&#39;li:last-child&#39;)</code>|获取每个父元素的最后一个子元素|<br>|<code>:only-child</code>|<code>$(&#39;li:only-child&#39;)</code>|获取有且只有一个子元素的元素|<br>|<code>:nth-child(odd/even/index)</code>支持表达式，如2n等同even|<code>$(&#39;li:nth-child(even)&#39;)</code>|获取每个自定义子元素的元素(索引值从 1 开始计算)|</p>

        <h3 id="（五）其他方法"   >
          <a href="#（五）其他方法" class="heading-link"><i class="fas fa-link"></i></a><a href="#（五）其他方法" class="headerlink" title="（五）其他方法"></a>（五）其他方法</h3>
      <p>jQuery 在选择器和过滤器上，还提供了一些常用的方法，方便我们开发时灵活使用。</p>
<div class="table-container"><table>
<thead>
<tr>
<th>方法名</th>
<th>jQuery 语法</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>is(s/o/e/f)</code></td>
<td><code>$(&#39;li&#39;).is(&#39;.red&#39;)</code>返回布尔值</td>
<td>传递选择器、DOM、jquery对象或是函数来匹配元素集合，如果这些元素中至少有一个元素匹配给定的参数，返回true</td>
</tr>
<tr>
<td><code>hasClass(class)</code></td>
<td><code>$(&#39;li&#39;).eq(2).hasClass(&#39;red&#39;)</code></td>
<td>其实就是<code>is(&quot;.&quot; + class)</code>,但只能传递class</td>
</tr>
<tr>
<td><code>slice(start, end)</code></td>
<td><code>$(&#39;li&#39;).slice(0,2)</code></td>
<td>选择从start到end位置的元素，如果是负数，则从后开始</td>
</tr>
<tr>
<td><code>filter(s/o/e/f)</code></td>
<td><code>$(&#39;li&#39;).filter(&#39;.red&#39;)</code></td>
<td>筛选元素集合中匹配表达式或通过传递函数测试的那些元素集合。</td>
</tr>
<tr>
<td><code>end() </code></td>
<td><code>$(&#39;div&#39;).find(&#39;p&#39;).end()</code></td>
<td>获取当前元素的前一个状态的元素(同级或父级)</td>
</tr>
<tr>
<td><code>contents()</code></td>
<td><code>$(&#39;div&#39;).contents()</code></td>
<td>获取某元素下面所有元素节点，包括文本节点，如果是iframe，则可以查找文本内容</td>
</tr>
</tbody></table></div>
<p><strong>is:</strong></p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;.red&#x27;</span>).is(<span class="string">&#x27;li&#x27;</span>); <span class="comment">//选择器，检测class为是否为 red</span></span><br><span class="line">$(<span class="string">&#x27;.red&#x27;</span>).is($(<span class="string">&#x27;li&#x27;</span>)); <span class="comment">//jQuery 对象集合，同上</span></span><br><span class="line">$(<span class="string">&#x27;.red&#x27;</span>).is($(<span class="string">&#x27;li&#x27;</span>).eq(<span class="number">2</span>)); <span class="comment">//jQuery 对象单个，同上</span></span><br><span class="line">$(<span class="string">&#x27;.red&#x27;</span>).is($(<span class="string">&#x27;li&#x27;</span>).get(<span class="number">1</span>)); <span class="comment">//DOM 对象，同上</span></span><br></pre></td></tr></table></div></figure>
<p>还可以进行各种自定义判断：</p>
<figure class="highlight html"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>list <span class="tag">&lt;<span class="name">strong</span>&gt;</span>item 1<span class="tag">&lt;/<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>list item 2<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>list item 3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">$(<span class="string">&quot;ul&quot;</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> $target = $(event.target);</span></span><br><span class="line"><span class="javascript">  <span class="keyword">if</span> ( $target.is(<span class="string">&quot;li&quot;</span>) ) &#123;</span></span><br><span class="line"><span class="javascript">    $target.css(<span class="string">&quot;background-color&quot;</span>, <span class="string">&quot;red&quot;</span>);</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></div></figure>
<p>当用户点击的是第一个列表项中的单词<code>&quot;list&quot;</code>或第三个列表项中的任何单词时，被点击的列表项会被设置为红色背景。<br>不过，当用户点击第一个列表项中的<code>item1</code>或第二个列表项中的任何单词时，都不会有任何变化，这是为这上面的情况中，事件的目标分别是 <code>&lt;strong&gt; </code>是 <code>&lt;span&gt;</code>。</p>
<p><strong>slice:</strong></p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;li&#x27;</span>).slice(<span class="number">0</span>,<span class="number">2</span>).css(<span class="string">&#x27;color&#x27;</span>, <span class="string">&#x27;red&#x27;</span>); <span class="comment">//前三个变成红色</span></span><br></pre></td></tr></table></div></figure>
<p><strong>注意：</strong>这个参数有多种传法和JavaScript中的slice方法是一样的比如：slice(2)，从第三个开始到最后选定；slice(2,4)，第三和第四被选定；slice(0,-2)，从倒数第三个位置，向前选定所有；slice(2,-2)，前两个和末尾两个未选定。</p>
<p><strong>filter：</strong></p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;li&#x27;</span>).filter(<span class="string">&#x27;.red&#x27;</span>).css(<span class="string">&#x27;background&#x27;</span>,<span class="string">&#x27;#ccc&#x27;</span>);<span class="comment">//选择li的class为red的元素</span></span><br><span class="line">$(<span class="string">&#x27;li&#x27;</span>).filter(<span class="string">&#x27;.red,:first,:last&#x27;</span>).css(<span class="string">&#x27;background&#x27;</span>,<span class="string">&#x27;#ccc&#x27;</span>);<span class="comment">//增加了首尾选择</span></span><br><span class="line"><span class="comment">//特殊要求函数返回</span></span><br><span class="line">$(<span class="string">&#x27;li&#x27;</span>).filter(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> $(<span class="built_in">this</span>).attr(<span class="string">&#x27;class&#x27;</span>)==<span class="string">&#x27;red&#x27;</span> &amp;&amp; $(<span class="built_in">this</span>).attr(<span class="string">&#x27;title&#x27;</span>)==<span class="string">&#x27;列表3&#x27;</span>;</span><br><span class="line">&#125;).css(<span class="string">&#x27;background&#x27;</span>, <span class="string">&#x27;#ccc&#x27;</span>);</span><br></pre></td></tr></table></div></figure>
<p>此处注意<code>$(this)</code>的使用，这把this包装成了jQuery对象，以便使用jQuery的方法。</p>

        <h2 id="三-表单选择器"   >
          <a href="#三-表单选择器" class="heading-link"><i class="fas fa-link"></i></a><a href="#三-表单选择器" class="headerlink" title="三. 表单选择器"></a>三. 表单选择器</h2>
      
        <h3 id="（一）常规选择器"   >
          <a href="#（一）常规选择器" class="heading-link"><i class="fas fa-link"></i></a><a href="#（一）常规选择器" class="headerlink" title="（一）常规选择器"></a>（一）常规选择器</h3>
      <p>其实使用上面的选择器已经能对表单元素进行选取了，先来验证一下，来看看如何利用上面的方法来进行表单元素的选择。</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//val()是jQuery用来获取表单元素文本内容的一个方法</span></span><br><span class="line">$(<span class="string">&#x27;input&#x27;</span>).val(); <span class="comment">//元素名定位，默认获取第一个</span></span><br><span class="line">$(<span class="string">&#x27;input&#x27;</span>).eq(<span class="number">1</span>).val(); <span class="comment">//同上，获取第二个</span></span><br><span class="line">$(<span class="string">&#x27;input[type=password]&#x27;</span>).val();<span class="comment">//选择type为password的字段</span></span><br><span class="line">$(<span class="string">&#x27;input[name=user]&#x27;</span>).val(); <span class="comment">//选择 name 为 user 的字段</span></span><br></pre></td></tr></table></div></figure>
<p>很显然，上面的这个方法都能选择到想要的元素，那么对于 id 和class基本一致，也可以结合属性选择器来精确的定位，在这里我们不在重复。<br>对于表单中的其他元素名比如：textarea、select 和 button 等，原理一样，不在重复。<br>但是这样是不是太过于复杂了呢？假如我们要同时选择input、textarea、select 和 button？继续看吧。</p>

        <h3 id="（二）表单选择器"   >
          <a href="#（二）表单选择器" class="heading-link"><i class="fas fa-link"></i></a><a href="#（二）表单选择器" class="headerlink" title="（二）表单选择器"></a>（二）表单选择器</h3>
      <p>虽然可以使用常规选择器来对表单的元素进行定位，但有时还是不能满足开发者灵活多变的需求，而且也太过于繁琐。所以，jQuery为表单提供了专用的选择器。</p>
<div class="table-container"><table>
<thead>
<tr>
<th>方法名</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>:input</code></td>
<td>选取所有 <code>input</code>、<code>textarea</code>、<code>select</code> 和 <code>button</code>元素</td>
</tr>
<tr>
<td><code>:text </code></td>
<td>选择所有单行文本框，即 <code>type=text</code></td>
</tr>
<tr>
<td><code>:password</code></td>
<td>选择所有密码框，即 <code>type=password</code></td>
</tr>
<tr>
<td><code>:radio</code></td>
<td>选择所有单选框，即 <code>type=radio</code></td>
</tr>
<tr>
<td><code>:checkbox</code></td>
<td>选择所有复选框，即 <code>type=checkbox</code></td>
</tr>
<tr>
<td><code>:submit </code></td>
<td>选取所有提交按钮，即 <code>type=submit</code></td>
</tr>
<tr>
<td><code>:reset </code></td>
<td>选取所有重置按钮，即 <code>type=reset</code></td>
</tr>
<tr>
<td><code>:image </code></td>
<td>选取所有图像按钮，即 <code>type=image</code></td>
</tr>
<tr>
<td><code>:button</code></td>
<td>选择所有普通按钮，即 <code>button 元素</code></td>
</tr>
<tr>
<td><code>:file </code></td>
<td>选择所有文件按钮，即 <code>type=file</code></td>
</tr>
<tr>
<td><code>:hidden </code></td>
<td>选择所有不可见字段，即 <code>type=hidden</code></td>
</tr>
</tbody></table></div>
<p><strong>注意：</strong></p>
<ol>
<li>由于这些选择器都是返回元素集合，如果想获取某一个指定的元素，最好结合一下属性选择器。比如：<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;:text[name=user]).size(); //获取单行文本框 name=user 的元素</span></span><br></pre></td></tr></table></div></figure></li>
<li>在使用这些属性时最好界定父元素，比如直接<code>$(&quot;:hidden&quot;).length</code>这样是不正确的，因为它还会选择到<code>head</code>标签内的元素，所以length属性不会为0，建议使用这样的形式：<code>$(&quot;form :hidden&quot;)</code></li>
</ol>

        <h3 id="（三）表单过滤器"   >
          <a href="#（三）表单过滤器" class="heading-link"><i class="fas fa-link"></i></a><a href="#（三）表单过滤器" class="headerlink" title="（三）表单过滤器"></a>（三）表单过滤器</h3>
      <p>jQuery 提供了四种表单过滤器，分别在是否可以用、是否选定来进行表单字段的筛选过滤。</p>
<div class="table-container"><table>
<thead>
<tr>
<th>方法名</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>:enabled </code></td>
<td>选取所有可用元素</td>
</tr>
<tr>
<td><code>:disabled</code></td>
<td>选取所有不可用元素</td>
</tr>
<tr>
<td><code>:checked</code></td>
<td>选取所有被选中的元素，单选和复选字段</td>
</tr>
<tr>
<td><code>:selected</code></td>
<td>选取所有被选中的元素，下拉列表</td>
</tr>
</tbody></table></div>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2015/12/27/jQuery-00-thinkingBasicCore/">jQuery入门笔记之（零）思考与基础核心</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2015-12-27</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2020-03-12</span></span><span class="post-meta-item post-meta-item--wordcount"><span class="post-meta-item__icon"><i class="far fa-file-word"></i></span><span class="post-meta-item__info">字数统计</span><span class="post-meta-item__value">3.6k</span></span><span class="post-meta-item post-meta-item--readtime"><span class="post-meta-item__icon"><i class="far fa-clock"></i></span><span class="post-meta-item__info">阅读时长</span><span class="post-meta-item__value">20分</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h2 id="思考篇"   >
          <a href="#思考篇" class="heading-link"><i class="fas fa-link"></i></a><a href="#思考篇" class="headerlink" title="思考篇"></a>思考篇</h2>
      
        <h3 id="一-什么是-jQuery"   >
          <a href="#一-什么是-jQuery" class="heading-link"><i class="fas fa-link"></i></a><a href="#一-什么是-jQuery" class="headerlink" title="一. 什么是 jQuery?"></a>一. 什么是 jQuery?</h3>
      <blockquote>
<p>jQuery是一个JavaScript库，它通过封装原生的JavaScript函数得到一整套定义好的方<br>法。<br>它的作者是JohnResig，于2006年创建的一个开源项目，随着越来越多开发者的加入，jQuery已经集成了JavaScript、CSS、DOM和Ajax于一体的强大功能。<br>它可以用最少的代码，完成更多复杂而困难的功能，从而得到了开发者的青睐。</p>
</blockquote>

        <h4 id="jQuery的版本"   >
          <a href="#jQuery的版本" class="heading-link"><i class="fas fa-link"></i></a><a href="#jQuery的版本" class="headerlink" title="jQuery的版本"></a>jQuery的版本</h4>
      <blockquote>
<p>随着jQuery的不断进化，发展也变成了两条进化线：</p>
</blockquote>
<p>2006 年 8 月发布了 jQuery1.0，第一个稳定版本，具有对 CSS 选择符、事件处理和<br>Ajax 交互的支持。</p>
<p>2010 年 2 月发布了 jQuery1.4.2，添加了.delegate()和.undelegate()两个新方法，提升了灵活性和浏览器一致性，对事件系统进行了升级。</p>
<p>2011 年 1 月发布了 jQuery1.5，重写了 AJAX 组件，增强了扩展性和性能。</p>
<p>2013 年 5 月发布了 jQuery1.10，增加了一些功能。</p>
<p>到此，jQuery的以上版本都有非常好的浏览器兼容性，支持所有浏览器，当然包括了IE6/7/8。但是直到下面这条线的出现：</p>
<p><strong>2013 年 4 月发布了 jQuery2.0，5 月发布了 jQuery2.0.2，一个重大更新版本，不在支持 IE6/7/8，体积更小，速度更快。</strong></p>
<p>目前最新版本分别是jQuery 2.1.4 和jQuery 1.11.3 。</p>
<p>现在两条线同时发展，可供大家选择。</p>
<p><strong>根据项目要求来选择版本，下面有介绍</strong></p>

        <h4 id="关于版本学习的问题："   >
          <a href="#关于版本学习的问题：" class="heading-link"><i class="fas fa-link"></i></a><a href="#关于版本学习的问题：" class="headerlink" title="关于版本学习的问题："></a>关于版本学习的问题：</h4>
      <p>版本的版本号升级主要有三种：</p>
<ul>
<li>第一种是大版本升级，比如1.x.x升级到2.x.x，这种升级规模是最大的，改动的地方是最多的，周期也是最长的，jQuery从1.x.x到 2.x.x用了7年。</li>
<li>第二种是小版本更新，比如1.7升级到1.8，改动适中，增加或减少了一些功能一般周期半年到一年左右。</li>
<li>第三种是微版本更新，比如1.8.1升级到1.8.2，修复一些bug或错误之类。</li>
</ul>
<p>版本的内容升级主要也有三种：</p>
<ul>
<li>第一种是核心库的升级，比如优化选择符、优化 DOM或者AJAX等；这种升级不影响开发者的使用。</li>
<li>第二种是功能性的升级，比如剔除一些过时的方法、新增或增强一些方法等等；这种升级需要了解和学习。</li>
<li>第三种就是 BUG 修复之类的升级，对开发者使用没有影响。</li>
</ul>
<p>所以综上所述：<br>有一半左右的升级都是内部优化，升级到新版本并不需要任何学习成本。就算在新的版本增加了一些功能，只需要几分钟了解一下即可使用，无需清零之前的知识，只需后续累加。<br>当然，在早期的 jQuery 版本都创建了最常用的功能，而新版本中增加的功能，也不是最常用的，无需立即学习，立马用起。</p>
<p><strong>选择一个版本开始学习吧！</strong></p>

        <h3 id="二-jQuery-的功能和优势"   >
          <a href="#二-jQuery-的功能和优势" class="heading-link"><i class="fas fa-link"></i></a><a href="#二-jQuery-的功能和优势" class="headerlink" title="二. jQuery  的功能和优势"></a>二. jQuery  的功能和优势</h3>
      <p>jQuery 作为 JavaScript 封装的库，他的目的就是为了简化开发者使用 JavaScript。主要<br>功能有以下几点：</p>
<ol>
<li>像 CSS 那样访问和操作 DOM</li>
<li>修改 CSS 控制页面外观</li>
<li>简化 JavaScript 代码操作</li>
<li>事件处理更加容易</li>
<li>各种动画效果使用方便</li>
<li>让 Ajax 技术更加完美</li>
<li>基于 jQuery 大量插件</li>
<li>自行扩展功能插件</li>
</ol>
<p>jQuery 最大的优势，就是特别的方便。比如模仿 CSS 获取 DOM，比原生的 JavaScript<br>要方便太多。并且在多个 CSS 设置上的集中处理非常舒服，而最常用的 CSS 功能又封装到<br>单独的方法，感觉非常有心。<br>最重要的是 jQuery 的代码兼容性非常好，你不需要总是头疼着考虑不同浏览器的兼容问题。</p>
<blockquote>
<p>其次像《编写高质量代码–web前端开发修炼之道》作者曹刘阳在微博上说的jq的强大真的只在那个$选择器吗?太小看jq了，私以为jq真正强大和坚挺的原因有3：<br>1、工业标准，我不知道未来还有谁能像jq一样，api上犀牛书。总之是前无古人，后面恐怕也难有来者。<br>工业标准有多可怕和难以撼动，会超出你想像。看看php就知道了。<br>2、jq的api设计对于原生js的改良。<br>3、jq丰富的插件积累。</p>
</blockquote>
<p>我也疑惑过，随着现在前端框架<code>angular</code>和<code>react</code>的流行，乱花渐欲迷人。微博上神仙打架，疑惑的是我们这些前端初学者，不过我是这样认为的：<br>与其把时间花在前端框架的选择上。不如先把花在这个已经成为工业标准的库上，万物殊途同归 ，最终还是在JS做文章不是吗？</p>

        <h3 id="三-是否兼容IE低版本"   >
          <a href="#三-是否兼容IE低版本" class="heading-link"><i class="fas fa-link"></i></a><a href="#三-是否兼容IE低版本" class="headerlink" title="三. 是否兼容IE低版本"></a>三. 是否兼容IE低版本</h3>
      <p>主要是从下面几个方面考虑：</p>

        <h4 id="1-成本控制"   >
          <a href="#1-成本控制" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-成本控制" class="headerlink" title="1. 成本控制"></a>1. 成本控制</h4>
      <ul>
<li>项目如果不是老站升级，也不是大门户的新闻站，成本控制和尽快<br>上线测试才是最重要的。</li>
<li>而如果新站一味要求全面兼容，会导致成本加剧（随着功能多少，<br>成本倍率增加）。</li>
<li>为了锁紧时间，就不停的加班再加班，又导致员工抵触，工作效率降低，这样成本不停的再累加。最终很多项<br>目，根本没上线就失败了。</li>
</ul>

        <h4 id="2-用户选择"   >
          <a href="#2-用户选择" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-用户选择" class="headerlink" title="2. 用户选择"></a>2. 用户选择</h4>
      <blockquote>
<p>高质量用户和低质量用户</p>
</blockquote>
<ul>
<li>例如一个3D游戏，和一款新闻应用：网易和腾讯在他们的新闻应用上，他们兼容了几乎所有的手<br>机平台，比如 IOS、安卓、黑莓、塞班等等，因为新闻应用的核心在新闻，而新闻的用户基<br>数巨大，需要兼顾高质量和低质量用户。而腾讯在 IOS 上的几十个应用，除了新闻、QQ、<br>浏览器，其他的基本都只有 IOS 和安卓，在塞班和黑莓及其他上就没有了。</li>
<li>所以，你的应用核心是哪方面？兼容的成本有多大？会不会导致成本控制问题？用户选<br>择尤为重要，放弃低质量用户也是一种成本控制。</li>
<li>在用户基数庞大的项目上，放弃低质量用户就有点愚笨，而你的用户基数只有 1000 人，而低质<br>量用户有 50 人，那么为了这 50 人去做兼容，那么 3 倍的成本就变得非常的昂贵。</li>
</ul>

        <h4 id="3-项目侧重点"   >
          <a href="#3-项目侧重点" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-项目侧重点" class="headerlink" title="3. 项目侧重点"></a>3. 项目侧重点</h4>
      <p>你的项目重点在哪里？是为了看新闻？是为了宣传线下产品？</p>
<p>那么你其实有必要兼容低版本浏览器。<br>首先这种类型的站不需要太好的用户体验，不需要太多的交互操作，只是看，<br>而兼容的成本比较低，并且核心在新闻或产品！</p>
<p>但如果你的项目有大量的交互、大量的操作，兼容成本较高，比如全球最大的社交网已经不兼容 IE6/7，就是这个原因。所以，项目并不是一味的全面兼容，或者全面不兼容，主要看你的项目侧重点在哪里！</p>

        <h4 id="4-用户体验"   >
          <a href="#4-用户体验" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-用户体验" class="headerlink" title="4. 用户体验"></a>4. 用户体验</h4>
      <blockquote>
<p>如果你的项目在兼容低版本浏览器成本巨大，比如社交网，有大量的 JS 和 AJAX 操作。<br>那么兼容 IE6/7 的成本确实很高，如果兼容，用户体验就会很差。</p>
</blockquote>
<p>兼容有两种：</p>
<ul>
<li>一种是高版本浏览器用性能好，体验好的模式；低版本的自动切换到兼容模式。</li>
<li>第二种就是，不管高版本或低版本都用统一的兼容模式。</li>
</ul>
<p>这两种成本都很高。用户体验好的模式，能增加用户粘度，增加付费潜在用户，而用户体验差的总是被用户归纳为心目中的备胎（所谓备胎就是实在没有了才去访问，如果有，很容易被抛弃）。</p>

        <h4 id="5-数据支持"   >
          <a href="#5-数据支持" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-数据支持" class="headerlink" title="5. 数据支持"></a>5. 数据支持</h4>
      <p>如果对某一种类型的网站项目有一定的研究，那么手头必须有支持的数据分析。<br>有数据分析可以更好的进行成本控制，更有魄力的解决高低质量用户的取舍。</p>

        <h4 id="6-教育用户"   >
          <a href="#6-教育用户" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-教育用户" class="headerlink" title="6. 教育用户"></a>6. 教育用户</h4>
      <p>很多项目可能是有固定客户群，或者使用该项目人员质量普遍较高。那么，面对零星一<br>点的低质量用户，我们不能再去迎合他。因为迎合他，就无法用高质量的用户体验去粘住忠实用户，又不能获取到低质量用户的芳心。<br>所以，我们应有的策略是：</p>
<ul>
<li>牢牢把握住高质量的忠诚用户，做到他们心目中的第一；</li>
<li>教育那部分低质量用户（比如企业级开发项目，可以直接做企业培训，安装高版本浏览器等等。互联网项目，就给出提示安装高版本浏览器即可）。</li>
<li>那么一部分低质量用户被拉拢过来，还有一小撮死性不改的就只有放弃。切不可捡了芝麻丢了西瓜，不要贪大求全。</li>
</ul>
<p>结论就是：结论就是必须根据实际情况，你项目的成本情况、人员情况、用户情况和项目本身类型情况而制定，没有一刀切的<br>兼容或不兼容。</p>

        <h3 id="四-下载及运行"   >
          <a href="#四-下载及运行" class="heading-link"><i class="fas fa-link"></i></a><a href="#四-下载及运行" class="headerlink" title="四. 下载及运行"></a>四. 下载及运行</h3>
      <blockquote>
<p>目前最新版本分别是jQuery 2.1.4 和jQuery 1.11.3 。下载开发版，可以顺便读一读源代码。</p>
</blockquote>
<p>下载jQuery：</p>
<ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://code.jquery.com/" >官网地址</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://cdn.code.baidu.com/" >百度静态资源共享库 CDN</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>，直接部署网上的地址</li>
<li>当然你要是看了我写的<a href="https://guowenfh.github.io/2015/12/26/SublimeText/">一个前端程序猿的Sublime Text3的自我修养</a>的话就更加简单了，直接就可以用编辑器下载</li>
</ul>
<p>参考手册：</p>
<ul>
<li>中文在线手册<span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://www.css88.com/jqapi-1.9/" >CSS88:jQuery快速API参考</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li>
<li>官方英文文档<span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://api.jquery.com/" >jQuery API</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>，可配合浏览器翻译插件</li>
</ul>

        <h4 id="第一个jQuery程序"   >
          <a href="#第一个jQuery程序" class="heading-link"><i class="fas fa-link"></i></a><a href="#第一个jQuery程序" class="headerlink" title="第一个jQuery程序"></a>第一个jQuery程序</h4>
      <figure class="highlight html"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">//已经引入jQ，在body内写入如下代码</span><br><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span></span><br><span class="line"><span class="javascript">    $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">&quot;button&quot;</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            alert(<span class="string">&quot;hello jQuery!&quot;</span>);</span></span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></div></figure>



        <h2 id="基础核心"   >
          <a href="#基础核心" class="heading-link"><i class="fas fa-link"></i></a><a href="#基础核心" class="headerlink" title="基础核心"></a>基础核心</h2>
      
        <h3 id="一-代码风格"   >
          <a href="#一-代码风格" class="heading-link"><i class="fas fa-link"></i></a><a href="#一-代码风格" class="headerlink" title="一. 代码风格"></a>一. 代码风格</h3>
      <p>在jQuery程序中，不管是页面元素的选择、内置的功能函数，都是美元符号“$”来起<br>始的。而这个“$”就是jQuery当中最重要且独有的对象：jQuery对象，所以我们在页面元素选择或执行功能函数的时候可以这么写：</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;); <span class="comment">//执行一个匿名函数</span></span><br><span class="line">$(‘#box’); <span class="comment">//进行执行的ID元素选择</span></span><br><span class="line">$(‘#box’).css(‘color’, ‘red’); <span class="comment">//执行功能函数</span></span><br></pre></td></tr></table></div></figure>

<p>由于$本身就是jQuery对象的缩写形式，那么也就是说上面的三段代码也可以写成如下形式：</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">jQuery(‘#box’).css(‘color’, ‘red’);</span><br><span class="line"><span class="comment">//jQuery恒等于$</span></span><br><span class="line"><span class="comment">// console.log(jQuery===$);//true</span></span><br></pre></td></tr></table></div></figure>

<p>且，每一次执行函数后，都会返回一个jQuery对象。如下：</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;#box&#x27;</span>).css(<span class="string">&#x27;color&#x27;</span>, <span class="string">&#x27;red&#x27;</span>).css(<span class="string">&#x27;font-size&#x27;</span>, <span class="string">&#x27;50px&#x27;</span>); <span class="comment">//连缀</span></span><br></pre></td></tr></table></div></figure>


        <h3 id="二-加载模式"   >
          <a href="#二-加载模式" class="heading-link"><i class="fas fa-link"></i></a><a href="#二-加载模式" class="headerlink" title="二. 加载模式"></a>二. 加载模式</h3>
      <blockquote>
<p>我们在之前的代码一直在使用<code>$(function () &#123;&#125;);</code>这段代码进行首尾包裹，那么为什么必须<br>要包裹这段代码呢？</p>
</blockquote>
<ul>
<li>原因是我们jQuery库文件是在body元素之前加载的，我们必须等待所有的DOM元素加载后，延迟支持DOM操作，否则就无法获取到。使用<code>document.ready()</code>,只需要等待DOM加载完成就执行。</li>
<li>我们的原生Javascript也有一个延迟加载的方法<code>onload</code>，当网页内容全部加载完成后执行（例如图片等大文件未加载完成之前，JS功能处于假死状态）。</li>
<li>下面来看看它们<code>load</code>和<code>ready</code>区别到底在什么地方：</li>
</ul>
<div class="table-container"><table>
<thead>
<tr>
<th>区别</th>
<th><code>window.onload</code></th>
<th><code>$(document).ready()</code></th>
</tr>
</thead>
<tbody><tr>
<td>执行时机</td>
<td>必须等待网页全部加载完毕（包括图片等），然后再执行包裹代码</td>
<td>只需要等待网页中的DOM结构加载完毕，就能执行包裹的代码</td>
</tr>
<tr>
<td>执行次数</td>
<td>只能执行一次，如果第二次，那么第一次的执行会被覆盖</td>
<td>可以执行多次，第N次都不会覆盖上一次</td>
</tr>
<tr>
<td>简写方案</td>
<td>无</td>
<td><code>$(function () &#123;&#125;);</code></td>
</tr>
</tbody></table></div>
<p>慕课网的<span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://www.imooc.com/learn/488" >DOM探索之基础详解篇</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> 有对DOM Ready的一些介绍。</p>

        <h3 id="三-对象互换及处理多个库之间的冲突"   >
          <a href="#三-对象互换及处理多个库之间的冲突" class="heading-link"><i class="fas fa-link"></i></a><a href="#三-对象互换及处理多个库之间的冲突" class="headerlink" title="三. 对象互换及处理多个库之间的冲突"></a>三. 对象互换及处理多个库之间的冲突</h3>
      
        <h4 id="1-对象互换。"   >
          <a href="#1-对象互换。" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-对象互换。" class="headerlink" title="1. 对象互换。"></a>1. 对象互换。</h4>
      <p>首先我们来看一下这段代码：</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">alert($);<span class="comment">//返回jQuery对象方法内部函数</span></span><br><span class="line">alert($());<span class="comment">//[object object]，返回jQuery对象</span></span><br><span class="line">alert($(<span class="string">&quot;#box&quot;</span>));<span class="comment">//[object object]，返回jQuery对象</span></span><br><span class="line">alert(<span class="built_in">document</span>.getElementById(<span class="string">&quot;box&quot;</span>)); <span class="comment">//[object HTMLDivElement]，返回原生DOM对象</span></span><br></pre></td></tr></table></div></figure>

<p>如何进行转换呢？<br>jQuery 想要达到获取原生的 DOM 对象，可以这么处理：<br><code>alert($(&#39;#box&#39;).get(0)); //ID 元素的第一个原生 DOM</code></p>
<p>从上面 get(0)，这里的索引看出，jQuery 是可以进行批量处理 DOM 的，这样可以在很<br>多需要循环遍历的处理上更加得心应手。</p>
<p>当然要重新转化成jQuery对象的话，只需要使用$()包裹原生对象就可以了。</p>

        <h4 id="2-多个库之间的冲突"   >
          <a href="#2-多个库之间的冲突" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-多个库之间的冲突" class="headerlink" title="2. 多个库之间的冲突"></a>2. 多个库之间的冲突</h4>
      <p>当一个项目中引入多个第三方库的时候，由于没有命名空间的约束（命名空间就好比同<br>一个目录下的文件夹一样，名字相同就会产生冲突），库与库之间发生冲突在所难免。</p>
<p> jQuery 只不过是 DOM 操作为主的库，方便我们日常 Web 开发。但有时，我们的项目有更多特殊的功能需要引入其他的库，比如用户界面 UI 方面的库，游戏引擎方面的库等等一系列。</p>
<p>所以jQuery提供了一个方法：<code>jQuery.noConflict();</code>：将$符所有权剔除。</p>
<figure class="highlight html"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;other_lib.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;jquery.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">  jQuery.noConflict();</span><br><span class="line"><span class="javascript">  <span class="comment">// 现在就$所有权就不归jQuery了。</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></div></figure>

<p>同时还可以使用</p>
<p><code>var $$ = jQuery;</code>：这样<code>$$</code>，就完全实现了原来$函数的功能。</p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2015/12/26/SublimeText/">一个前端程序猿的Sublime Text3的自我修养</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2015-12-26</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2020-03-12</span></span><span class="post-meta-item post-meta-item--wordcount"><span class="post-meta-item__icon"><i class="far fa-file-word"></i></span><span class="post-meta-item__info">字数统计</span><span class="post-meta-item__value">5.3k</span></span><span class="post-meta-item post-meta-item--readtime"><span class="post-meta-item__icon"><i class="far fa-clock"></i></span><span class="post-meta-item__info">阅读时长</span><span class="post-meta-item__value">35分</span></span></div></header><div class="post-body"><div class="post-excerpt"><p><strong>详细设置 &amp;&amp; 20+插件</strong></p>
<blockquote>
<p>本文章会在本人有插件或者设置更新时，进行不定时更新</p>
<p>2015-12-31更新：NO. 21 侧边栏同步编辑窗口底色插件。<br>2016-04-06更新：代码片段：<code>better-completions</code>；主题：<code>Material</code>,<code>Seti_UI</code>；代码格式化：<code>HTML-CSS-JS Prettify</code>；vue语法高亮：<code>Vue Syntax Highlight</code>；<code>Terminal</code>与<code>MarkdownEditing</code>个性化定制<br>GitSavvy 、<br>2016-07-03更新：自定义代码片段；<code>livereload</code>：保存自动刷新浏览器；<code>WakaTime</code>:记录你的编程时间</p>
</blockquote>
<p><strong>为什么要选择Sublime Text3？</strong></p>
<ul>
<li>Sublime Text3 自动保存，打开图片</li>
<li>跨平台启动快!!!!多行游标，太好用。</li>
<li>插件，简直选不过来。</li>
<li>代码片段</li>
<li>VIM兼容模式</li>
</ul>

        <h2 id="菜单栏基础功能介绍"   >
          <a href="#菜单栏基础功能介绍" class="heading-link"><i class="fas fa-link"></i></a><a href="#菜单栏基础功能介绍" class="headerlink" title="菜单栏基础功能介绍"></a>菜单栏基础功能介绍</h2>
      <p><img src="https://ws1.sinaimg.cn/large/82d12951gy1fewiqk6y6pj20hi07qaae.jpg" alt="菜单栏介绍"></p>
<ol>
<li><code>File</code>：文档相关，新建文件,打开文件或文件夹等。</li>
<li><code>Edit</code>：文件编辑相关，复制，剪切等（CVS大法好）。除此之外还有一些强大的功能。</li>
<li><code>Selection</code>：选择相关，帮助选择代码。</li>
<li><code>Find</code>：查找替换相关。这个和其它编辑器区别好像不大。</li>
</ol>
<ul>
<li><code>Ctrl+F</code>查找、<code>Ctrl+H</code>替换等。</li>
</ul>
<ol start="5">
<li><code>View</code>：对Sublime_Text编辑器本身的一些配置。</li>
</ol>
<ul>
<li><code>SideBar</code>:开启侧边栏<code>Ctrl+k,b</code></li>
<li><code>Show console</code>：打开控制台窗口，安装package control需要使用.</li>
</ul>
<ol start="6">
<li><code>Goto</code>：快捷导航：下面介绍。Goto Anything</li>
<li><code>tools</code>:工具，一些命令。</li>
</ol>
<ul>
<li><code>new Snippet</code>：自定义代码片段，保存到user下</li>
</ul>
<ol start="8">
<li><code>Project</code>: 项目相关，用的少。</li>
<li><code>Preferences</code>：对于sublime_text进行一些个性化定值。</li>
<li><code>Help</code>：如同名字。注册在这里</li>
</ol>

        <h3 id="快捷键"   >
          <a href="#快捷键" class="heading-link"><i class="fas fa-link"></i></a><a href="#快捷键" class="headerlink" title="快捷键"></a>快捷键</h3>
      <ul>
<li><code>line</code>相关：</li>
<li><code>Ctrl+Shift+D</code>：复制当前行</li>
<li><code>Ctrl+Shift+K</code>：删除当前行</li>
<li><code>Ctrl+j</code> 合并一行</li>
<li><code>Ctrl+Enter</code>：在当前行下添加新行。After</li>
<li><code>Ctrl+Shift+Enter</code>：在当前行上添加新行。Before</li>
<li><code>Ctrl+Shift+上、下</code>：移动当前行</li>
<li><code>Comment</code>注释：</li>
<li><code>Ctrl+/</code>：行注释。</li>
<li><code>Ctrl+Shift+/</code>：块注释</li>
<li><code>Ctrl+Shift+P</code>：调用命令面板，快速查找，例如：改变语法模式等。<ul>
<li>模糊匹配，可以减少对快捷键的记忆。</li>
</ul>
</li>
<li><strong><code>Shift+Alt+1，2，3，4，5</code>：开启对应数字的多栏编辑</strong></li>
</ul>

        <h4 id="Ctrl-P：Goto-Anything"   >
          <a href="#Ctrl-P：Goto-Anything" class="heading-link"><i class="fas fa-link"></i></a><a href="#Ctrl-P：Goto-Anything" class="headerlink" title="Ctrl+P：Goto Anything"></a><code>Ctrl+P</code>：Goto Anything</h4>
      <ul>
<li><code>Ctrl+P</code>: 查找项目中的文件：</li>
<li>直接输入名称：在不同文件中切换，<strong>支持级联的目录模式</strong></li>
<li><code>:</code>：+ 行号：<code>Ctrl+G</code> 定位到具体的行。</li>
<li><code>@</code>：+ 符号：<code>Ctrl+R</code>定位到具体的符号，例如：JS函数名，CSS选择器名。</li>
<li><code>#</code>：+ 关键字：<code>Ctrl+;</code>匹配到具体的匹配的关键字。主要是模糊匹配。</li>
</ul>

        <h4 id="多行游标"   >
          <a href="#多行游标" class="heading-link"><i class="fas fa-link"></i></a><a href="#多行游标" class="headerlink" title="多行游标"></a>多行游标</h4>
      <ul>
<li><code>Ctrl+D</code>：选中当前光标所在位置的<strong>单词</strong>。连续使用时，进行多光标选择，选中下一个同名单词。</li>
<li><code>Ctrl+K</code>：配合<code>Ctrl+D</code>可以<strong>跳过</strong>下一个同名单词。</li>
<li><code>Ctrl+L</code>：选择当前光标所在位置的<strong>行</strong>。连续使用时，继续选中下一行。</li>
<li><code>Ctrl+Shift+L</code>：在多行选中后，在所有选中的行后产生游标。</li>
<li><code>Alt+F3</code>：选中文档中所有的同名单词。</li>
<li><code>Shift+鼠标右键</code>：向下拖动，产生多个光标。</li>
</ul>

        <h3 id="设置"   >
          <a href="#设置" class="heading-link"><i class="fas fa-link"></i></a><a href="#设置" class="headerlink" title="设置"></a>设置</h3>
      <p>使用 <code>View</code>–&gt;<code>Show console</code>，快捷键： Ctrl+` 调出console面板输入<code>sublime.log_commands(True)</code>，可以得到当前使用的命令面板进行设置的值。方便进行快捷键的绑定。</p>
<p>下面这些都可以通过命令面板快捷查找</p>
<ul>
<li><code>Settings-User</code>：个人对于sublime_text的定制。使用JSON格式，会直接覆盖掉<code>Settings-Default</code>默认设置中的内容。</li>
</ul>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// User/Preferences.sublime-settings</span></span><br><span class="line"><span class="comment">//我觉得自带字体挺好的。</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;color_scheme&quot;</span>: <span class="string">&quot;Packages/Material Theme/schemes/Material-Theme-Darker.tmTheme&quot;</span>,<span class="comment">//主题，</span></span><br><span class="line">    <span class="string">&quot;theme&quot;</span>: <span class="string">&quot;Material-Theme-Darker.sublime-theme&quot;</span>,<span class="comment">//侧边栏样式，需要安装该主题才可以使用</span></span><br><span class="line">    <span class="string">&quot;draw_minimap_border&quot;</span>: <span class="literal">true</span>, <span class="comment">// 右侧缩略图边框</span></span><br><span class="line">    <span class="string">&quot;font_face&quot;</span>: <span class="string">&quot;Monaco&quot;</span>,<span class="comment">//字体</span></span><br><span class="line">    <span class="string">&quot;font_size&quot;</span>: <span class="number">10</span>, <span class="comment">// 字体大小</span></span><br><span class="line">    <span class="string">&quot;highlight_line&quot;</span>: <span class="literal">true</span>, <span class="comment">// 当前行标亮</span></span><br><span class="line">    <span class="string">&quot;save_on_focus_lost&quot;</span>: <span class="literal">true</span>, <span class="comment">// 当前行标亮</span></span><br><span class="line">    <span class="string">&quot;theme&quot;</span>: <span class="string">&quot;Spacegray Eighties.sublime-theme&quot;</span>, <span class="comment">//主题相关</span></span><br><span class="line">    <span class="string">&quot;word_separators&quot;</span>: <span class="string">&quot;./\\()\&quot;&#x27;:,.;&lt;&gt;~!@#$%^&amp;*|+=[]&#123;&#125;`~?&quot;</span>, <span class="comment">// 双击选中中划线</span></span><br><span class="line">    <span class="string">&quot;word_wrap&quot;</span>: <span class="literal">true</span>, <span class="comment">//自动换行</span></span><br><span class="line">    <span class="string">&quot;trim_trailing_white_space_on_save&quot;</span>: <span class="literal">true</span>, <span class="comment">//自动移除行尾多余空格</span></span><br><span class="line">    <span class="string">&quot;ensure_newline_at_eof_on_save&quot;</span>: <span class="literal">true</span>, <span class="comment">//文件末尾自动保留一个空行</span></span><br><span class="line">    <span class="string">&quot;disable_tab_abbreviations&quot;</span>: <span class="literal">true</span>, <span class="comment">//禁用 Emmet 的 tab 键功能（请使用 ctrl+e）</span></span><br><span class="line">    <span class="string">&quot;translate_tabs_to_spaces&quot;</span>: <span class="literal">true</span>, <span class="comment">//把代码 tab 对齐转换为空格对齐</span></span><br><span class="line">    <span class="string">&quot;tab_size&quot;</span>: <span class="number">4</span>, <span class="comment">//空格数</span></span><br><span class="line">    <span class="string">&quot;fade_fold_buttons&quot;</span>: <span class="literal">false</span>, <span class="comment">//显示代码块的倒三角</span></span><br><span class="line">    <span class="string">&quot;bold_folder_labels&quot;</span>: <span class="literal">true</span>, <span class="comment">//侧边栏文件夹加粗</span></span><br><span class="line">    <span class="string">&quot;auto_find_in_selection&quot;</span>: <span class="literal">true</span> <span class="comment">//开启选中范围内搜索</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<ul>
<li><code>key - Bindings-User</code>：个人对于快捷键的设置。同样会覆盖默认的设置。例如：</li>
</ul>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//自动改变缩进格式</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&quot;keys&quot;</span>: [<span class="string">&quot;shift+tab&quot;</span>], <span class="string">&quot;command&quot;</span>: <span class="string">&quot;reindent&quot;</span>,<span class="string">&quot;args&quot;</span>:&#123;<span class="string">&quot;single_line&quot;</span>:<span class="literal">false</span>&#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></div></figure>


        <h3 id="构建系统实现快捷调用浏览器"   >
          <a href="#构建系统实现快捷调用浏览器" class="heading-link"><i class="fas fa-link"></i></a><a href="#构建系统实现快捷调用浏览器" class="headerlink" title="构建系统实现快捷调用浏览器"></a>构建系统实现快捷调用浏览器</h3>
      <blockquote>
<p>构建系统可以让您通过外部程序来运行文件，并可以在Sublime Text查看输出。</p>
</blockquote>
<p><code>tools</code>:工具下的<code>Build System</code>选择新建一个选项后(<code>Build System</code>–&gt;<code>New Build System</code>)，进行如下设置（注意后缀），保存到user目录下：</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//这样设置。。地址是你的浏览器位置</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;cmd&quot;</span> :[<span class="string">&quot;C:\\Program Files (x86)\\Google\\Chrome\\Application\\chrome.exe&quot;</span>,<span class="string">&quot;$file&quot;</span>],</span><br><span class="line">  <span class="string">&quot;selector&quot;</span>:[<span class="string">&quot;text.html&quot;</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>之后再进入刚刚的的地方，选择第一个<code>Automatic</code>，修改内容后按<code>Ctrl+B</code>，可以看到自动调用<code>chrome</code>并且是修改后的内容。在<code>sublime Text</code>的<code>console</code>中可以看到输出的信息。更多功能请查看<span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://docs.sublimetext.info/en/latest/file_processing/build_systems.html" >这里</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
<p>上面是一些基础功能的介绍</p>
<p>2016-07-03 更新：<strong>自定义sublime代码片段</strong></p>
<p>我们在开发中有很多代码是需要重复编写的，每一次都去复制粘贴显然是一件效率极其低下的事情，sublime的自定义代码片段功能就很好的解决了这个问题。下面就来看一下如何在sublime中自定义代码片段</p>
<p>首先在菜单栏选择：Tools -&gt;developer -&gt; New Snippet可以看到新建一个<code>xml</code>类型的描述文件，如下：</p>
<figure class="highlight xml"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">snippet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">content</span>&gt;</span>&lt;![CDATA[</span><br><span class="line">Hello, $&#123;1:this&#125; is a $&#123;2:snippet&#125;.</span><br><span class="line">]]&gt;<span class="tag">&lt;/<span class="name">content</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Optional: Set a tabTrigger to define how to trigger the snippet --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;tabTrigger&gt;hello&lt;/tabTrigger&gt; --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Optional: Set a scope to limit where the snippet will trigger --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;scope&gt;source.python&lt;/scope&gt; --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">snippet</span>&gt;</span></span><br></pre></td></tr></table></div></figure>


<p>注释已经非常详细了，<code>content</code> 里面就是代码模版：<code>$&#123;序号：默认值&#125;</code> ，序号相同的地方光标会同时停在那可以多处同时编辑。序号大小就是 <code>tabindex</code>。在实际使用代码的时候，可以使用 <code>tab</code> 切换光标位置。</p>
<p>以hexo新建一篇博客头部为例：</p>
<figure class="highlight xml"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">snippet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">content</span>&gt;</span></span><br><span class="line">        &lt;![CDATA[</span><br><span class="line">title: $&#123;1:标题&#125;</span><br><span class="line">date: $&#123;2:2015-12-26 15:26:17&#125;</span><br><span class="line">tags: [$&#123;3:标签&#125;]</span><br><span class="line">categories: [$&#123;4:分类&#125;]</span><br><span class="line">]]&gt;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">content</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 可选：快捷键，利用Tab自动补全代码的功能 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tabTrigger</span>&gt;</span>hexoH<span class="tag">&lt;/<span class="name">tabTrigger</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 可选：使用范围，不填写代表对所有文件有效。附：source.css和test.html分别对应不同文件。 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;scope&gt;source.md&lt;/scope&gt; --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 可选：在snippet菜单中的显示说明（支持中文）。如果不定义，菜单则显示当前文件的文件名。 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">description</span>&gt;</span>hexo博客头部生成<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">snippet</span>&gt;</span></span><br></pre></td></tr></table></div></figure>
<p>设置完毕，最后还差一步，要想代码片段生效，还必须保存到<code>sublime的文件目录\Data\Packages\User</code>，文件名任意，但文件后缀必须为<code>.sublime-snippet</code>。</p>
<p>现在输入<code>hexoH</code>试试，你想要的代码片段是不是已经有了呢？</p>

        <h2 id="插件的安装与使用"   >
          <a href="#插件的安装与使用" class="heading-link"><i class="fas fa-link"></i></a><a href="#插件的安装与使用" class="headerlink" title="插件的安装与使用"></a>插件的安装与使用</h2>
      
        <h3 id="安装package-control。"   >
          <a href="#安装package-control。" class="heading-link"><i class="fas fa-link"></i></a><a href="#安装package-control。" class="headerlink" title="安装package control。"></a>安装<code>package control</code>。</h3>
      <p>这里我使用的是<code>sublimeText 3</code>，2 的话上官网查询代码。<br>首先打开<code>package control</code>的<span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://packagecontrol.io/installation" >官方网站</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>。<br>复制下面这一段代码:</p>
<figure class="highlight pgsql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib.request,os,hashlib; h = <span class="string">&#x27;2915d1851351e5ee549c20394736b442&#x27;</span> + <span class="string">&#x27;8bc59f460fa1548d1514676163dafc88&#x27;</span>; pf = <span class="string">&#x27;Package Control.sublime-package&#x27;</span>; ipp = sublime.installed_packages_path(); urllib.request.install_opener( urllib.request.build_opener( urllib.request.ProxyHandler()) ); <span class="keyword">by</span> = urllib.request.urlopen( <span class="string">&#x27;http://packagecontrol.io/&#x27;</span> + pf.replace(<span class="string">&#x27; &#x27;</span>, <span class="string">&#x27;%20&#x27;</span>)).<span class="keyword">read</span>(); dh = hashlib.sha256(<span class="keyword">by</span>).hexdigest(); print(<span class="string">&#x27;Error validating download (got %s instead of %s), please try manual install&#x27;</span> % (dh, h)) <span class="keyword">if</span> dh != h <span class="keyword">else</span> <span class="keyword">open</span>(os.path.<span class="keyword">join</span>( ipp, pf), <span class="string">&#x27;wb&#x27;</span> ).<span class="keyword">write</span>(<span class="keyword">by</span>)</span><br></pre></td></tr></table></div></figure>

<p>在上面说的<code>View</code>–&gt;<code>Show console</code>,快捷键： Ctrl+` 打开控制台窗口，粘贴上面的代码，回车，然后就是等待安装了，需要一定的时间。安装完成后重启 。</p>
<p>使用<code>Ctrl+Shift+P</code>,打开控制面板，输入<code>PC</code>，效果如下：说明安装成功了。</p>
<p><img src="https://ws1.sinaimg.cn/large/82d12951gy1fewiql1jepj20c50arwf8.jpg" alt="package control"></p>

        <h3 id="安装主题"   >
          <a href="#安装主题" class="heading-link"><i class="fas fa-link"></i></a><a href="#安装主题" class="headerlink" title="安装主题"></a>安装主题</h3>
      <ul>
<li>按照上面的步骤，打开图片中的安装插件就行了，其实默认配色真的挺好看的</li>
<li>推荐在安装前，先去<span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://packagecontrol.io/" >官方网站查看样式</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>。的样式，以及设置方法,说明文档。一般安装成功后，会自动弹出。</li>
<li>以<code>Theme - Spacegray</code>为例：</li>
</ul>
<p><img src="https://ws1.sinaimg.cn/large/82d12951gy1fewitm4cmpj20cb09dgm8.jpg" alt="Theme - Spacegray"><br>先使用<code>Ctrl+Shift+P</code> 输入PCI，回车选择 <code>Install Package</code> 。需要等待一会加载时间，输入<code>Theme-Spacegray</code>。其实不输入完也会模糊匹配出来的。</p>
<ul>
<li>回车等待安装就好，成功后会弹出一个使用设置的页面，把其中的如下代码拷贝到<code>Settings-User</code>，保存，你会发现，默认的主题已经变成了刚刚我们查看过的主题了。</li>
</ul>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;color_scheme&quot;</span>: <span class="string">&quot;Packages/Theme - Spacegray/base16-eighties.dark.tmTheme&quot;</span>,</span><br><span class="line"><span class="string">&quot;theme&quot;</span>: <span class="string">&quot;Spacegray Eighties.sublime-theme&quot;</span></span><br></pre></td></tr></table></div></figure>
<p>当然，你也可以通过菜单栏，进行主题的选择。会有相同的效果。它会自动在<code>Settings-User</code>进行设置。</p>
<p><strong>2016-04-6 更新</strong></p>
<p>安利两款主题：</p>
<p>两款主题都有侧边栏图标显示：我在这里说不清到底谁好谁差，全凭个人的喜好吧！</p>
<ol>
<li>Material：</li>
</ol>
<p><img src="https://ws1.sinaimg.cn/large/82d12951gy1fewiqlbwh4j210o0u20ty.jpg" alt="Theme_Material"></p>
<ol start="2">
<li>Seti_UI：</li>
</ol>
<p><img src="https://ws1.sinaimg.cn/large/82d12951gy1fewiql87qij21ao0r93ze.jpg" alt="Theme_Seti_UI"></p>
<p>安装方法还是和上面一样，最好是根据它的<code>README</code>描述来进行设置。</p>

        <h2 id="个人常用插件及使用方法："   >
          <a href="#个人常用插件及使用方法：" class="heading-link"><i class="fas fa-link"></i></a><a href="#个人常用插件及使用方法：" class="headerlink" title="个人常用插件及使用方法："></a>个人常用插件及使用方法：</h2>
      
        <h3 id="NO-1-AdvancedNewFile：快速新建文件。"   >
          <a href="#NO-1-AdvancedNewFile：快速新建文件。" class="heading-link"><i class="fas fa-link"></i></a><a href="#NO-1-AdvancedNewFile：快速新建文件。" class="headerlink" title="NO.1 AdvancedNewFile：快速新建文件。"></a>NO.1 <code>AdvancedNewFile</code>：快速新建文件。</h3>
      <ul>
<li>假设有文件夹<code>file</code>。我们正在输入代码，又想在新的子目录下新建html文件的话用传统方式得很多步，新建目录，新建文件，保存等等等。</li>
<li>但是有了该插件之后，事情就变得简单了许多，只需要按下<code>Ctrl+Shift+N</code>，输入文件夹以及文件名，你就会看到如下效果:（回车，你会发现已经子目录下的文件已经新建完成了！）</li>
</ul>
<p><img src="https://ws1.sinaimg.cn/large/82d12951gy1fewiqk9cn6j20aq023jrn.jpg" alt="AdvancedNewFile"></p>

        <h3 id="NO-2-Nettuts-Fetch：管理类库。"   >
          <a href="#NO-2-Nettuts-Fetch：管理类库。" class="heading-link"><i class="fas fa-link"></i></a><a href="#NO-2-Nettuts-Fetch：管理类库。" class="headerlink" title="NO.2 Nettuts+ Fetch：管理类库。"></a>NO.2 <code>Nettuts+ Fetch</code>：管理类库。</h3>
      <p>安装成功后输入<code>Ctrl+Shift+P</code>打开命令面板，输入<code>Fetch</code>，可以看到以下：</p>
<p><img src="https://ws1.sinaimg.cn/large/82d12951gy1fewiqk901oj209s03ydfw.jpg" alt="Nettuts+ Fetch"><br>选择<code>file</code>可以看到设置的文件。选择下载<br>配合刚刚上面的插件使用，简直完美..</p>

        <h3 id="NO-3-Sidebar-Enhancements：增强侧边栏。"   >
          <a href="#NO-3-Sidebar-Enhancements：增强侧边栏。" class="heading-link"><i class="fas fa-link"></i></a><a href="#NO-3-Sidebar-Enhancements：增强侧边栏。" class="headerlink" title="NO.3 Sidebar Enhancements：增强侧边栏。"></a>NO.3 <code>Sidebar Enhancements</code>：增强侧边栏。</h3>
      <p>必装插件，无比强大，就不过多介绍了。可以在浏览器中打开，还可以配置不同文件的打开方式。<br>单单下面这一个功能就必须安装了！快捷在不同浏览器打开：</p>
<p>配置设置：</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&quot;keys&quot;</span>: [<span class="string">&quot;f1&quot;</span>],</span><br><span class="line">        <span class="string">&quot;command&quot;</span>: <span class="string">&quot;side_bar_files_open_with&quot;</span>,</span><br><span class="line">        <span class="string">&quot;args&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;paths&quot;</span>: [],</span><br><span class="line">            <span class="string">&quot;application&quot;</span>: <span class="string">&quot;C:\\Program Files (x86)\\Google\\Chrome\\Application\\chrome.exe&quot;</span>,<span class="comment">//你的浏览器路径</span></span><br><span class="line">            <span class="string">&quot;extensions&quot;</span>: <span class="string">&quot;.*&quot;</span> <span class="comment">//匹配任何文件类型</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;<span class="comment">//firefox</span></span><br><span class="line">        <span class="string">&quot;keys&quot;</span>: [<span class="string">&quot;f2&quot;</span>],</span><br><span class="line">        <span class="string">&quot;command&quot;</span>: <span class="string">&quot;side_bar_files_open_with&quot;</span>,</span><br><span class="line">        <span class="string">&quot;args&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;paths&quot;</span>: [],</span><br><span class="line">            <span class="string">&quot;application&quot;</span>: <span class="string">&quot;D:\\浏览器\\火狐\\firefox.exe&quot;</span>,</span><br><span class="line">            <span class="string">&quot;extensions&quot;</span>: <span class="string">&quot;.*&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123; <span class="comment">//ie</span></span><br><span class="line">        <span class="string">&quot;keys&quot;</span>: [<span class="string">&quot;f3&quot;</span>],</span><br><span class="line">        <span class="string">&quot;command&quot;</span>: <span class="string">&quot;side_bar_files_open_with&quot;</span>,</span><br><span class="line">        <span class="string">&quot;args&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;paths&quot;</span>: [],</span><br><span class="line">            <span class="string">&quot;application&quot;</span>: <span class="string">&quot;C:\\Program Files\\Internet Explorer\\iexplore.exe&quot;</span>,</span><br><span class="line">            <span class="string">&quot;extensions&quot;</span>: <span class="string">&quot;.*&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></div></figure>

<ul>
<li>可选<code>SyncedSideBar</code>：每次打开文件，侧边栏都会同步显示该文件所在目录树中的位置</li>
</ul>

        <h3 id="NO-4-Doc​Blockr：代码块注释。"   >
          <a href="#NO-4-Doc​Blockr：代码块注释。" class="heading-link"><i class="fas fa-link"></i></a><a href="#NO-4-Doc​Blockr：代码块注释。" class="headerlink" title="NO.4 Doc​Blockr：代码块注释。"></a>NO.4 <code>Doc​Blockr</code>：代码块注释。</h3>
      <p>可以快速的对函数进行注释。保持代码规范。支持多种语言。（个人觉得<code>brackets</code>的这个插件比<code>Sublime Text</code>做得好多了。）</p>
<ul>
<li><code>/*</code>:回车创建一个代码块注释</li>
<li><code>/**</code>:回车在自动查找函数中的形参等等。</li>
</ul>
<p>它会生成 <code>JSDoc</code> 格式的注释。如果你从没有使用过类似的工具，<code>DocBlockr</code> 会让你觉得以前没有它是如何写代码的。帮助你创造你的代码注释，通过解析功能，参数，变量，并且自动添加基本项目。</p>

        <h3 id="NO-5-SublimeLinter-jshint-语法校验"   >
          <a href="#NO-5-SublimeLinter-jshint-语法校验" class="heading-link"><i class="fas fa-link"></i></a><a href="#NO-5-SublimeLinter-jshint-语法校验" class="headerlink" title="NO.5 SublimeLinter-jshint:语法校验"></a>NO.5 <code>SublimeLinter-jshint</code>:语法校验</h3>
      <ul>
<li>需先安装<code>SublimeLinter</code>。</li>
<li>需先安装<code>Node.JS</code>及<code>npm</code>。</li>
<li>在cmd输入 <code>npm install -g jshint</code>，等待安装成功就好了。</li>
</ul>
<p>安装成功后，重启就可以测试代码的风格了。<br>当然还可以自定义校验规则，在该目录下使用<code>Ctrl+Shift+N</code>创建文件<code>.jshintrc</code>，在其中使用JSON格式配置校验风格。</p>
<p>例如：</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//建议使用===，不使用时会有提示。</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;eqeqeq&quot;</span>:<span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>并且在左下角会有错误提示。需要注意的是内容有更改时，才会立即生效。<br>详细自定义规则：<span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://jshint.com/docs/options/" >自定义Hint校验</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>

        <h3 id="NO-6-Git-版本控制"   >
          <a href="#NO-6-Git-版本控制" class="heading-link"><i class="fas fa-link"></i></a><a href="#NO-6-Git-版本控制" class="headerlink" title="NO.6 Git :版本控制"></a>NO.6 <code>Git</code> :版本控制</h3>
      <p>可视化的操作：帮助你与你的Git repo协议进行交互。它支持很多命令像<code>init</code>,<code> push</code>, <code>pull</code>, <code>branch</code>, <code>stash</code>,等等。了解更多关于你在<code>Sublime Text</code>里面究竟能使用哪些Git功能，以提高您的工作流程。<br><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://scotch.io/tutorials/using-git-inside-of-sublime-text-to-improve-workflow" >使用参考</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
<ul>
<li><code>GitGutter</code>:<br>Sublime Text 有了 Git 插件之后，GitGutter 更好的帮助开发者查看文件之前的改动和差异，提升开发效率。（其实我是冲着这个来的）</li>
</ul>

        <h3 id="NO-7-Emmet：不解释。"   >
          <a href="#NO-7-Emmet：不解释。" class="heading-link"><i class="fas fa-link"></i></a><a href="#NO-7-Emmet：不解释。" class="headerlink" title="NO.7 Emmet：不解释。"></a>NO.7 <code>Emmet</code>：不解释。</h3>
      <p>中文文档：<span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://yanxyz.github.io/emmet-docs/css-abbreviations/vendor-prefixes/" >地址</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
<p><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://www.w3cplus.com/tools/emmet-cheat-sheet.html" >前端开发必备！Emmet使用手册</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>

        <h3 id="NO-8-JsFormat：代码格式化-使用-HTML-CSS-JS-Prettify，下面介绍："   >
          <a href="#NO-8-JsFormat：代码格式化-使用-HTML-CSS-JS-Prettify，下面介绍：" class="heading-link"><i class="fas fa-link"></i></a><a href="#NO-8-JsFormat：代码格式化-使用-HTML-CSS-JS-Prettify，下面介绍：" class="headerlink" title="NO.8 JsFormat：代码格式化 使用 HTML-CSS-JS Prettify，下面介绍："></a><del>NO.8 <code>JsFormat</code>：代码格式化</del> 使用 <strong>HTML-CSS-JS Prettify</strong>，下面介绍：</h3>
      <ul>
<li>JsFormat 基于 <code>JS Beautifier</code>，可以帮助你自动格式化<code>JavaScript</code>和 JSON。这对于阅读代码是非常有用的。</li>
<li>快捷键：<code>Ctrl + Alt + f</code> 或者，你也可以使用菜单栏。</li>
<li>可定制喜欢的格式：在 SublimeText 3 中 Preferences -&gt; Package Settings -&gt; JsFormat -&gt; Settings - Default 可以调整这些配置。</li>
</ul>

        <h3 id="NO-9-jQuery：jQuery的API代码片段"   >
          <a href="#NO-9-jQuery：jQuery的API代码片段" class="heading-link"><i class="fas fa-link"></i></a><a href="#NO-9-jQuery：jQuery的API代码片段" class="headerlink" title="NO.9 jQuery：jQuery的API代码片段"></a>NO.9 <code>jQuery</code>：jQuery的API代码片段</h3>
      <p>我知道目前在很多地方 <code>jQuery </code>看似已经落伍了，但是如果你不是建立一个交互性很强的网站或者你只是想在已有应用上添加功能，它仍然是非常有用的。</p>
<p>比如，输入<code> $.a</code>就可以让我选择<code>$.ajax()</code>，然后自动扩展成以下代码：</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$.ajax(&#123;</span><br><span class="line">  url: <span class="string">&#x27;/path/to/file&#x27;</span>,</span><br><span class="line">  type: <span class="string">&#x27;default GET (Other values: POST)&#x27;</span>,</span><br><span class="line">  dataType: <span class="string">&#x27;default: Intelligent Guess (Other values: xml, json, script, or html)&#x27;</span>,</span><br><span class="line">  data: &#123;<span class="attr">param1</span>: <span class="string">&#x27;value1&#x27;</span>&#125;,</span><br><span class="line">&#125;)</span><br><span class="line">.done(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;success&quot;</span>);</span><br><span class="line">&#125;)</span><br><span class="line">.fail(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;error&quot;</span>);</span><br><span class="line">&#125;)</span><br><span class="line">.always(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;complete&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></div></figure>


        <h3 id="NO-10-BracketHighlighter-符号高亮"   >
          <a href="#NO-10-BracketHighlighter-符号高亮" class="heading-link"><i class="fas fa-link"></i></a><a href="#NO-10-BracketHighlighter-符号高亮" class="headerlink" title="NO.10 BracketHighlighter:符号高亮"></a>NO.10 <code>BracketHighlighter</code>:符号高亮</h3>
      <p>该插件提供行数列高亮的各种配对的语法符号，显示在行号上。效果如下：</p>
<p><img src="https://ws1.sinaimg.cn/large/82d12951gy1fewiqkjlk4j20dy09hdga.jpg" alt="BracketHighlighter"></p>
<p>配置方法参考<span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://www.cnblogs.com/liu-l/p/3866458.html" >sublime text3下BracketHighlighter的配置方法</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>

        <h3 id="NO-11-JavaScript-Next：完美支持ECMAScript-6"   >
          <a href="#NO-11-JavaScript-Next：完美支持ECMAScript-6" class="heading-link"><i class="fas fa-link"></i></a><a href="#NO-11-JavaScript-Next：完美支持ECMAScript-6" class="headerlink" title="NO.11 JavaScript Next：完美支持ECMAScript 6"></a>NO.11 <code>JavaScript Next</code>：完美支持ECMAScript 6</h3>
      <ul>
<li>JavaScript Next 提供了比默认JavaScript Package更好的语法高亮，而且他完美支持ECMAScript 6。</li>
<li>建议<strong>完全使用</strong> JavaScript Next代替JavaScript Package。</li>
</ul>

        <h3 id="NO-12-CSS3-CSS3语法高亮"   >
          <a href="#NO-12-CSS3-CSS3语法高亮" class="heading-link"><i class="fas fa-link"></i></a><a href="#NO-12-CSS3-CSS3语法高亮" class="headerlink" title="NO.12 CSS3:CSS3语法高亮"></a>NO.12 <code>CSS3</code>:CSS3语法高亮</h3>
      <ul>
<li>默认安装的Sublime Text对CSS3的支持让人抓狂，帧动画？别开玩笑了你只会看到一片白色的纯文本一样的代码。</li>
<li>事实上不光CSS3，我建议用CSS3 Package完全替代原来的CSS Package来完成语法高亮。把原来的禁用了吧</li>
</ul>

        <h3 id="NO-13-Color-Highlighter-：CSS颜色高亮"   >
          <a href="#NO-13-Color-Highlighter-：CSS颜色高亮" class="heading-link"><i class="fas fa-link"></i></a><a href="#NO-13-Color-Highlighter-：CSS颜色高亮" class="headerlink" title="NO.13 Color Highlighter ：CSS颜色高亮"></a>NO.13 <code>Color Highlighter</code> ：CSS颜色高亮</h3>
      <ul>
<li>这个插件我等了很久了（在使用breakets的时候发现 的，好用到爆），我最早用Sublime Text写CSS时候就在想“这堆颜色码谁知道是什么颜色”。。</li>
<li>还是brackets的牛逼</li>
<li>Color Highlighter这个插件会检测CSS文件中的颜色码，不论是Hex码或者RGB码都能很好的显示。</li>
<li>Color Highlighter能够设置成用背景色或者边框提示颜色，我一般在Settings里做这样的设置：</li>
</ul>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;ha_style&quot;</span>: <span class="string">&quot;filled&quot;</span>,</span><br><span class="line">  <span class="string">&quot;icons&quot;</span>: <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>效果如下：</p>
<p><img src="https://ws1.sinaimg.cn/large/82d12951gy1fewiqkkc1ij20bj049aaw.jpg" alt="Color Highlighter"></p>

        <h3 id="NO-14Colorpicker：使用一个取色器改变颜色"   >
          <a href="#NO-14Colorpicker：使用一个取色器改变颜色" class="heading-link"><i class="fas fa-link"></i></a><a href="#NO-14Colorpicker：使用一个取色器改变颜色" class="headerlink" title="NO.14Colorpicker：使用一个取色器改变颜色"></a>NO.14<code>Colorpicker</code>：使用一个取色器改变颜色</h3>
      <p>使用方法: <code>ctrl + shift + c</code>，快捷键有冲突，需修改。可以通过<code>ctrl+shift+p</code>：搜索<code>Colorpicker</code>调用</p>
<p><img src="https://ws1.sinaimg.cn/large/82d12951gy1fewiqkqweij20ht0aywf1.jpg" alt="Colorpicker"></p>

        <h3 id="NO-15-Markdown-Editing-和-Markdown-Preview，实现预览MD"   >
          <a href="#NO-15-Markdown-Editing-和-Markdown-Preview，实现预览MD" class="heading-link"><i class="fas fa-link"></i></a><a href="#NO-15-Markdown-Editing-和-Markdown-Preview，实现预览MD" class="headerlink" title="NO.15 Markdown Editing 和 Markdown Preview，实现预览MD"></a>NO.15 <code>Markdown Editing</code> 和 <code>Markdown Preview</code>，实现预览MD</h3>
      <ul>
<li>当在 Sublime Text 中编写 markdown 文件时，在浏览器中打开全是乱码，因为还没有将 markdown 文件解析成相应的 HTML.</li>
<li>这两个插件的功能就是可以用浏览器浏览 Sublime Text 中编写的 markdown文件。</li>
<li>配置：</li>
</ul>
<p>打开 Preferences-&gt;Package Settings-&gt;Markdown Preview-&gt;Setting User 将下面这句话粘贴进去。</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="comment">// &quot;浏览markdown的浏览器的路径&quot;</span></span><br><span class="line">    <span class="string">&quot;browser&quot;</span> : <span class="string">&quot;C:\\Program Files (x86)\\Google\\Chrome\\Application\\chrome.exe&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//打开Preferences-&gt;Key Binding User，添加下面一句话。</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;keys&quot;</span>: [<span class="string">&quot;f6&quot;</span>], <span class="string">&quot;command&quot;</span>: <span class="string">&quot;markdown_preview&quot;</span>, <span class="string">&quot;args&quot;</span>: &#123;<span class="string">&quot;target&quot;</span>: <span class="string">&quot;browser&quot;</span>, <span class="string">&quot;parser&quot;</span>:<span class="string">&quot;markdown&quot;</span>&#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="comment">//keys的值是以上面浏览器预览markdown文件。</span></span><br></pre></td></tr></table></div></figure>

<p>直接按<code>F6</code>就可以打开浏览器预览<code>markdown</code>，并且它们的安装还会让编写<code>markdown</code>时支持一些快捷键。</p>
<p>不进行这些配置的话，因为我们在前面 <strong>构建系统</strong> 使用了一些操作，按<code>ctrl+b</code>,就会在当前文件目录下，创建一个同名的<code>html</code>文件。</p>
<p>选中该<code>htnl</code>文件，再次按<code>ctrl+b</code>可以达到同样的预览效果，不过还是F6简单不是吗？</p>
<p><strong>2016-04-06 更新</strong></p>
<p>我知道你们都忍不了那默认的白色背景，丑爆了好吗？ 现在我们找到<br><code>preference</code>–&gt;<code>package Settings</code>–&gt;<code>MarkdownEditing</code>–&gt;<code>Markdown GFM Settings-users</code>，把下面这个复制进去：</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;color_scheme&quot;</span>: <span class="string">&quot;Packages/Material Theme/schemes/Material-Theme-Darker.tmTheme&quot;</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>
<p>然后你就会发现世界又回到了春天-。-（这里使用的我上面介绍的<code>Material</code>）,更多的设置就举一反三啦！</p>

        <h3 id="NO-16-AutoFileName：文件路径自动提示"   >
          <a href="#NO-16-AutoFileName：文件路径自动提示" class="heading-link"><i class="fas fa-link"></i></a><a href="#NO-16-AutoFileName：文件路径自动提示" class="headerlink" title="NO.16 AutoFileName：文件路径自动提示"></a>NO.16 <code>AutoFileName</code>：文件路径自动提示</h3>
      <p>这个直接安装就可以用了，挺方便的。</p>

        <h3 id="NO-17-Terminal：在Sublime-Text直接打开命令行"   >
          <a href="#NO-17-Terminal：在Sublime-Text直接打开命令行" class="heading-link"><i class="fas fa-link"></i></a><a href="#NO-17-Terminal：在Sublime-Text直接打开命令行" class="headerlink" title="NO.17 Terminal：在Sublime Text直接打开命令行"></a>NO.17 <code>Terminal</code>：在Sublime Text直接打开命令行</h3>
      <p><strong>2016-04-06 更新</strong></p>
<p>默认快捷键 <code>Ctrl+Shift+T</code>。</p>
<p>在<code>windows</code>下默认会打开<code>Windows PowerShell</code>，那界面简直丑到不行好吗！！</p>
<p>根据上面的经验同样找到<code>preference</code>–&gt;<code>package Settings</code>–&gt;<code>Terminal</code>–&gt;<code>Terminal Settings-users</code>：进行下面的设置：</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;terminal&quot;</span>: <span class="string">&quot;C:\\WINDOWS\\system32\\cmd.exe&quot;</span>,</span><br><span class="line">    <span class="comment">//&quot;terminal&quot;: &quot;C:\\Program Files\\cmder\\Cmder.exe&quot;,</span></span><br><span class="line">    <span class="string">&quot;parameters&quot;</span>: [<span class="string">&quot;/START&quot;</span>, <span class="string">&quot;%CWD%&quot;</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>然后人生就焕发了第二春 -。-（强烈建议大家去搜索使用被我注释掉的**<code>Cmder</code>**，这才是一个<code>shell</code>的样子嘛！）</p>

        <h3 id="NO-18-CSScomb-CSS属性排序"   >
          <a href="#NO-18-CSScomb-CSS属性排序" class="heading-link"><i class="fas fa-link"></i></a><a href="#NO-18-CSScomb-CSS属性排序" class="headerlink" title="NO.18 CSScomb : CSS属性排序"></a>NO.18 <code>CSScomb</code> : CSS属性排序</h3>
      <ul>
<li>使用参考:<span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://yunkus.com/article/ziyuan/331.html" >点击查看</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://yunkus.com/article/ziyuan/333.html" >CSS属性排序 CSScomb 插件配置参数大全</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li>
</ul>

        <h3 id="NO-19-JavaScript-Completions和Java​Script-amp-Node​JS-Snippets。输入提示，代码补全"   >
          <a href="#NO-19-JavaScript-Completions和Java​Script-amp-Node​JS-Snippets。输入提示，代码补全" class="heading-link"><i class="fas fa-link"></i></a><a href="#NO-19-JavaScript-Completions和Java​Script-amp-Node​JS-Snippets。输入提示，代码补全" class="headerlink" title="NO.19 JavaScript Completions和Java​Script &amp; Node​JS Snippets。输入提示，代码补全"></a>NO.19 <code>JavaScript Completions</code>和<code>Java​Script &amp; Node​JS Snippets</code>。输入提示，代码补全</h3>
      <ul>
<li>看个人喜好咯，不用代码补全，可以锻炼英语！！</li>
</ul>

        <h3 id="NO-20-SyncedSidebarBg-自动同步侧边栏底色为编辑窗口底色。"   >
          <a href="#NO-20-SyncedSidebarBg-自动同步侧边栏底色为编辑窗口底色。" class="heading-link"><i class="fas fa-link"></i></a><a href="#NO-20-SyncedSidebarBg-自动同步侧边栏底色为编辑窗口底色。" class="headerlink" title="NO.20 SyncedSidebarBg:自动同步侧边栏底色为编辑窗口底色。"></a>NO.20 <code>SyncedSidebarBg</code>:自动同步侧边栏底色为编辑窗口底色。</h3>
      <p>有人反映说安装主题后侧边栏颜色不更改，其实有两个方法，一个在<code>\Data\Packages\主题</code>修改主题配置。</p>
<p>比较麻烦，就不说了，直接安装这个插件就好了，记得重启刷新。</p>
<p><strong>2016-04-06 更新</strong></p>

        <h3 id="NO-21-HTML-CSS-JS-Prettify-HTML-CSS-JavaScript-代码格式化"   >
          <a href="#NO-21-HTML-CSS-JS-Prettify-HTML-CSS-JavaScript-代码格式化" class="heading-link"><i class="fas fa-link"></i></a><a href="#NO-21-HTML-CSS-JS-Prettify-HTML-CSS-JavaScript-代码格式化" class="headerlink" title="NO.21 HTML-CSS-JS Prettify: HTML-CSS-JavaScript 代码格式化"></a>NO.21 <code>HTML-CSS-JS Prettify</code>: HTML-CSS-JavaScript 代码格式化</h3>
      <p>其实有了这个代码格式化插件，就可以删除上面的代码格式化插件了。因为功能确实强大！</p>
<ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://packagecontrol.io/packages/HTML-CSS-JS%20Prettify" >官网插件配置</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://frontenddev.org/article/sublime-does-text-three-plug-ins-html-and-css-js-prettify.html" >FED社区：sublime text 3 插件：HTML-CSS-JS Prettify</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li>
</ul>
<p>其实我把官网的配置趴下来之后就改了两个地方：</p>
<ul>
<li><code>&quot;selector_separator_newline&quot;: false</code>： 不需要每个CSS选择器单独占一行</li>
<li><code>&quot;allowed_file_extensions&quot;: [&quot;..这是老的，新增在--&gt;&quot;,&quot;vue&quot;],</code>：将<code>vue</code>的组件当成<code>html</code>来进行格式化</li>
<li>默认快捷键：<code>Ctrl+Shift+H</code></li>
</ul>
<p>更多的个性化定制大家自己去实现吧！</p>

        <h3 id="NO-22-better-completions-涵盖了html-jquery，javascript，Bootstrap的代码片段。"   >
          <a href="#NO-22-better-completions-涵盖了html-jquery，javascript，Bootstrap的代码片段。" class="heading-link"><i class="fas fa-link"></i></a><a href="#NO-22-better-completions-涵盖了html-jquery，javascript，Bootstrap的代码片段。" class="headerlink" title="NO.22 better-completions: 涵盖了html, jquery，javascript，Bootstrap的代码片段。"></a>NO.22 <code>better-completions</code>: 涵盖了<code>html</code>, <code>jquery</code>，<code>javascript</code>，<code>Bootstrap</code>的代码片段。</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://packagecontrol.io/packages/Better%20Completion" >官网详细配置</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>;</li>
</ul>
<p>官网介绍的很详细。<br>这个插件要是包含的类型多，当然在每一种语言上的匹配肯定是不如上面介绍。不过为了少按几个插件，还是用了它，把上面的几个代码片段插件删了。<br>不过它也是支持加载自定义代码片段的，如果有需要的话，那就自己编写吧^_^。</p>

        <h3 id="NO-23-liveReload：文件保存浏览器即时刷新！"   >
          <a href="#NO-23-liveReload：文件保存浏览器即时刷新！" class="heading-link"><i class="fas fa-link"></i></a><a href="#NO-23-liveReload：文件保存浏览器即时刷新！" class="headerlink" title="NO.23 liveReload：文件保存浏览器即时刷新！"></a>NO.23 <code>liveReload</code>：文件保存浏览器即时刷新！</h3>
      <blockquote>
<p>该插件在window下，有很多问题会导致不能使用，mac下可以正常使用</p>
</blockquote>
<ul>
<li>需安装对应的chrome插件：<span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://chrome.google.com/webstore/detail/livereload/jnihajbhpnppcggbcgedagnkighmdlei" >chrome商店下载</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>，完成后需勾选允许访问文件网址</li>
<li>为了避免每一次启动实时刷新在sulime里面启动一遍插件，可在插件设置中增加如下字段：</li>
</ul>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;enabled_plugins&quot;</span>: [</span><br><span class="line">        <span class="string">&quot;SimpleReloadPlugin&quot;</span>,</span><br><span class="line">        <span class="string">&quot;SimpleRefresh&quot;</span></span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>
<p>这时就只需要在浏览器端点一下小圆圈就好了</p>

        <h3 id="其他："   >
          <a href="#其他：" class="heading-link"><i class="fas fa-link"></i></a><a href="#其他：" class="headerlink" title="其他："></a>其他：</h3>
      <ul>
<li><code>SideBar Folders</code>：更好的管理侧边栏文件夹</li>
<li><code>IMESupport</code> ：输入法不跟随时安装</li>
<li><code>FileHeader</code> ：自动更新保存时间，文件模板</li>
<li><code>Quote​HTML</code> ：把HTML拼接成js插入字符串，字符串拼接的痛</li>
<li><code>CSS Format</code> ：CSS格式化</li>
<li><code>AutoPrefixer</code> ：浏览器私有属性前缀补全 (Node.js依赖)</li>
<li><code>ConvertToUTF8</code>：GBK编码兼容</li>
<li><code>Vue Syntax Highlight</code>：<code>vue</code>文件的语法高亮</li>
<li><code>WakaTime</code>：记录你的编程时间</li>
<li><code>rem-unit</code>：px单位自动转rem，移动端开发必备</li>
</ul>
<blockquote>
<p>参考如下：</p>
</blockquote>
<ul>
<li>慕课网视频：<span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://www.imooc.com/learn/40" >前端开发工具技巧介绍—Sublime篇</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li>
<li>慕课网视频：<span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://www.imooc.com/learn/333" >快乐的sublime编辑器</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li>
<li>Sublime Text手冊：<span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://docs.sublimetext.tw/" >点击查看</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li>
<li>Github资源合集<span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/jikeytang/sublime-text" >jikeytang/sublime-text</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li>
<li>知乎Sublime Text专题<span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://www.zhihu.com/topic/19668076" >点击查看</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li>
</ul>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2015/12/24/task0002-Exercises/">task0002（四）- 练习：数据处理、轮播及交互</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2015-12-24</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2020-03-12</span></span><span class="post-meta-item post-meta-item--wordcount"><span class="post-meta-item__icon"><i class="far fa-file-word"></i></span><span class="post-meta-item__info">字数统计</span><span class="post-meta-item__value">6.1k</span></span><span class="post-meta-item post-meta-item--readtime"><span class="post-meta-item__icon"><i class="far fa-clock"></i></span><span class="post-meta-item__info">阅读时长</span><span class="post-meta-item__value">39分</span></span></div></header><div class="post-body"><div class="post-excerpt"><p>包括5部分：</p>
<ul>
<li>小练习1-处理用户输入</li>
<li>小练习2-日期对象的使用</li>
<li>小练习3：轮播图</li>
<li>小练习4：输入提示框</li>
<li>小练习5：界面拖拽交互</li>
</ul>
<p><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/guowenfh/IFE/tree/master/task0002" >源码地址</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><br><a href="https://guowenfh.github.io/IFE/task0002/index.html">task0002 在线Demo</a></p>

        <h2 id="小练习1：处理用户输入"   >
          <a href="#小练习1：处理用户输入" class="heading-link"><i class="fas fa-link"></i></a><a href="#小练习1：处理用户输入" class="headerlink" title="小练习1：处理用户输入"></a>小练习1：处理用户输入</h2>
      <blockquote>
<p>这里直接可以利用原来写过的<code>util.js</code>。所以应该不是特别难。主要考察对字符串的操作，以及正则表达式的使用</p>
</blockquote>

        <h3 id="任务描述"   >
          <a href="#任务描述" class="heading-link"><i class="fas fa-link"></i></a><a href="#任务描述" class="headerlink" title="任务描述"></a>任务描述</h3>
      <p>在<code>task0002</code>目录下创建一个<code>task0002_1.html</code>文件，以及一个<code>js</code>目录和<code>css</code>目录，在<code>js</code>目录中创建<code>task0002_1.js</code>，并将之前写的<code>util.js</code>也拷贝到<code>js</code>目录下。然后完成以下需求。</p>

        <h4 id="第一阶段"   >
          <a href="#第一阶段" class="heading-link"><i class="fas fa-link"></i></a><a href="#第一阶段" class="headerlink" title="第一阶段"></a>第一阶段</h4>
      <p>在页面中，有一个单行输入框，一个按钮，输入框中用来输入用户的兴趣爱好，允许用户用半角逗号来作为不同爱好的分隔。</p>
<p>当点击按钮时，把用户输入的兴趣爱好，按照上面所说的分隔符分开后保存到一个数组，过滤掉空的、重复的爱好，在按钮下方创建一个段落显示处理后的爱好。</p>
<p><strong>实现</strong></p>
<p>根据题目要求，这个地方比较简单，可以直接利用前面写过的一些函数，分成四步，进行。</p>
<ol>
<li>使用正则表达式来对字符串进行分割操作。</li>
<li><code>uniqArray</code>函数进行去重操作。</li>
<li>for循环，<code>trim</code>函数对数组项进行去除首尾空格，用来处理，该项为空的情况。</li>
<li>innerHTML进行输出。</li>
</ol>
<p>html：</p>
<figure class="highlight html"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;user_input&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn&quot;</span>&gt;</span>提交<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;user_output&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></div></figure>

<p><code>task0002_1.js</code>中的js:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//自执行的匿名函数</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">handle_1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//其实这里没必要使用id因为数据那么少$函数直接获取标签就行</span></span><br><span class="line">    <span class="keyword">var</span> inp = $(<span class="string">&quot;#user_input&quot;</span>);</span><br><span class="line">    <span class="keyword">var</span> out = $(<span class="string">&quot;#user_output&quot;</span>);</span><br><span class="line">    $.click(<span class="string">&quot;#btn&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> value = inp.value.split(<span class="regexp">/\,|\，/</span>); <span class="comment">//1.根据半角逗号分割成数组。</span></span><br><span class="line">        <span class="keyword">var</span> unValue = uniqArray(value); <span class="comment">//2.数组去重</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = unValue.length; i &lt; len; i++) &#123;</span><br><span class="line">            <span class="keyword">var</span> trimValue = trim(unValue[i]); <span class="comment">//3.对每一项进行去除首尾空格操作</span></span><br><span class="line">            <span class="built_in">console</span>.log(trimValue);</span><br><span class="line">            <span class="keyword">if</span> (trimValue !== <span class="string">&quot;&quot;</span>) &#123; <span class="comment">//4.只有在去除首尾空格后不为空的数组才输出。</span></span><br><span class="line">                out.innerHTML += <span class="string">&quot;&lt;li&gt;&quot;</span> + trimValue + <span class="string">&quot;&lt;/li&gt;&quot;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></div></figure>

        <h4 id="第二阶段"   >
          <a href="#第二阶段" class="heading-link"><i class="fas fa-link"></i></a><a href="#第二阶段" class="headerlink" title="第二阶段"></a>第二阶段</h4>
      <p>单行变成多行输入框，一个按钮，输入框中用来输入用户的兴趣爱好，允许用户用换行、空格（全角/半角）、逗号（全角/半角）、顿号、分号来作为不同爱好的分隔。</p>
<p>当点击按钮时的行为同上</p>
<p><strong>实现</strong></p>
<p>看题目描述，主要是对于第一步进行修改，第一阶段只要求对半角逗号进行处理，但是在第二阶段中，需要对<strong>“换行、空格（全角/半角）、逗号（全角/半角）、顿号、分号”</strong>进行处理。<br>主要是考察对于正则表达式的应用。</p>
<p>只需要对<code>var value = inp.value.split(/\,|\，/); </code>进行更改如下：</p>
<p><code>var value = inp.value.split(/\n|\s+|\,|\，|\、|\;|\；/); </code><br>需要注意的是：在正则表达式进行匹配这些符号时最好是前面加上转义字符。</p>

        <h4 id="第三阶段"   >
          <a href="#第三阶段" class="heading-link"><i class="fas fa-link"></i></a><a href="#第三阶段" class="headerlink" title="第三阶段"></a>第三阶段</h4>
      <p>用户输入的爱好数量不能超过10个，也不能什么都不输入。当发生异常时，在按钮上方显示一段红色的错误提示文字，并且不继续执行后面的行为；当输入正确时，提示文字消失。</p>
<p>同时，当点击按钮时，不再是输出到一个段落，而是每一个爱好输出成为一个checkbox，爱好内容作为checkbox的label。</p>
<p><strong>实现</strong></p>
<ul>
<li>嗯，其实这里按照题目要求应该要实时监听输入值变化，但是那样太麻烦了，，所以就直接在点击按钮的时候判断了。</li>
<li>直接判断数组长度就行了。。输入为空时，判断字符串=“”。</li>
<li>输出<code>checkbox</code>这里不过多的设置了，只是演示。</li>
</ul>

        <h3 id="最终完成"   >
          <a href="#最终完成" class="heading-link"><i class="fas fa-link"></i></a><a href="#最终完成" class="headerlink" title="最终完成"></a>最终完成</h3>
      <p>html:</p>
<figure class="highlight html"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">textarea</span> <span class="attr">name</span>=<span class="string">&quot;user_input&quot;</span> <span class="attr">id</span>=<span class="string">&quot;user_input&quot;</span> <span class="attr">cols</span>=<span class="string">&quot;45&quot;</span> <span class="attr">rows</span>=<span class="string">&quot;10&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn&quot;</span>&gt;</span>处理并输出<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>输入的爱好数量不能超过10个，或什么都不输入<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">&quot;user_output&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></div></figure>
<p>js:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">handle_1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> inp = $(<span class="string">&quot;#user_input&quot;</span>);</span><br><span class="line">    <span class="keyword">var</span> out = $(<span class="string">&quot;#user_output&quot;</span>);</span><br><span class="line">    $.click(<span class="string">&quot;#btn&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> value = inp.value.split(<span class="regexp">/\n|\s+|\,|\，|\、|\;|\；/</span>); <span class="comment">//分割成数组。</span></span><br><span class="line">        <span class="keyword">var</span> unValue = uniqArray(value); <span class="comment">//数组去重</span></span><br><span class="line">        <span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">var</span> len = unValue.length;</span><br><span class="line">        <span class="keyword">if</span> (len &gt; <span class="number">10</span> || unValue == <span class="string">&quot;&quot;</span>) &#123;</span><br><span class="line">            $(<span class="string">&quot;p&quot;</span>).style.disautoPlay = <span class="string">&quot;block&quot;</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            $(<span class="string">&quot;p&quot;</span>).style.disautoPlay = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">            <span class="keyword">for</span> (; i &lt; len; i++) &#123;</span><br><span class="line">                <span class="keyword">var</span> trimValue = trim(unValue[i]); <span class="comment">//对每一项进行去除首尾空格操作</span></span><br><span class="line">                <span class="built_in">console</span>.log(trimValue);</span><br><span class="line">                <span class="keyword">if</span> (trimValue !== <span class="string">&quot;&quot;</span>) &#123; <span class="comment">//只有在去除首尾空格后不为空的数组才输出。</span></span><br><span class="line">                    out.innerHTML += <span class="string">&quot;&lt;label&gt;&quot;</span> + <span class="string">&quot;&lt;input type=&#x27;checkbox&#x27;&gt;&quot;</span> + trimValue + <span class="string">&quot;&lt;/label&gt;&quot;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></div></figure>


<p>在线演示：**<a href="https://guowenfh.github.io/IFE/task0002/task0002_1.html">小练习1：处理兴趣列表</a>**</p>

        <h2 id="小练习2：日期对象的使用"   >
          <a href="#小练习2：日期对象的使用" class="heading-link"><i class="fas fa-link"></i></a><a href="#小练习2：日期对象的使用" class="headerlink" title="小练习2：日期对象的使用"></a>小练习2：日期对象的使用</h2>
      
        <h3 id="任务描述-1"   >
          <a href="#任务描述-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#任务描述-1" class="headerlink" title="任务描述"></a>任务描述</h3>
      <p>在和上一任务同一目录下面创建一个<code>task0002_2.html</code>文件，在<code>js</code>目录中创建<code>task0002_2.js</code>，并在其中编码，实现一个倒计时功能。</p>
<ul>
<li>界面首先有一个文本输入框，允许按照特定的格式<code>YYYY-MM-DD</code>输入年月日；</li>
<li>输入框旁有一个按钮，点击按钮后，计算当前距离输入的日期的00:00:00有多少时间差</li>
<li>在页面中显示，距离YYYY年MM月DD日还有XX天XX小时XX分XX秒</li>
<li>每一秒钟更新倒计时上显示的数</li>
<li>如果时差为0，则倒计时停止</li>
</ul>

        <h3 id="实现思路"   >
          <a href="#实现思路" class="heading-link"><i class="fas fa-link"></i></a><a href="#实现思路" class="headerlink" title="实现思路"></a>实现思路</h3>
      
        <h4 id="了解日期对象"   >
          <a href="#了解日期对象" class="heading-link"><i class="fas fa-link"></i></a><a href="#了解日期对象" class="headerlink" title="了解日期对象"></a>了解日期对象</h4>
      <p>这里主要是考察的对于日期对象的使用。</p>
<p><code>new Date()</code>。如果没有输入任何参数，则Date的构造器会依据系统设置的当前时间来创建一个Date对象。表示当前系统时间。</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//时间对象创建的几种方式。</span></span><br><span class="line"><span class="keyword">var</span> today = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="keyword">var</span> birthday = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">&quot;December 17, 1995 03:24:00&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> birthday = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">&quot;1995-12-17T03:24:00&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> birthday = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">1995</span>,<span class="number">11</span>,<span class="number">17</span>);</span><br><span class="line"><span class="keyword">var</span> birthday = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">1995</span>,<span class="number">11</span>,<span class="number">17</span>,<span class="number">3</span>,<span class="number">24</span>,<span class="number">0</span>);</span><br></pre></td></tr></table></div></figure>
<ul>
<li>Date对象中处理时间和日期的常用方法：详细内容在<span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Date" >MDN</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>上</li>
</ul>
<p><img src="https://ws1.sinaimg.cn/large/82d12951gy1fewio59lnrj20bm089jri.jpg" alt="日期对象常用方法"></p>

        <h4 id="正式开始："   >
          <a href="#正式开始：" class="heading-link"><i class="fas fa-link"></i></a><a href="#正式开始：" class="headerlink" title="正式开始："></a>正式开始：</h4>
      <ol>
<li>创建时间处理函数，使用正则表达式，处理输入的值，<code>value.match(/(^\d&#123;4&#125;)-(\d&#123;2&#125;)-(\d&#123;2&#125;$)/);</code>用到了match方法和正则的分组，在我写的正则博客里应该有过详细介绍了。这里也不过的说明了。</li>
<li>使用目标时间的<code>getTime()</code>毫秒数减去得到当前的毫秒数，得到相差的毫秒数。处理它：<strong>（注意毫秒的问题）</strong></li>
</ol>
<ul>
<li><code>(60 * 60 * 24)</code> ：剩余的天数。</li>
<li><code>(60 * 60) % 24)</code> :剩余的小时数。依次类推。</li>
</ul>
<ol start="3">
<li><code>innerHTML输出</code>，并且判断相差时间，改变输出的值。</li>
<li>定时器的使用。(我这里使用的<code>setTimeout()</code>，使用递归调用实现自执行)</li>
</ol>
<ul>
<li>计时器<code>setTimeout(函数,延迟时间);</code>，在载入后延迟指定时间后,去执行一次表达式,仅执行一次。</li>
<li>取消计时器:<code>clearTimeout()</code>停止计时器。</li>
</ul>
<ol start="5">
<li>给按钮添加点击事件，在点击时，调用刚刚编写的的时间处理函数。</li>
</ol>
<p>在线演示：**<a href="https://guowenfh.github.io/IFE/task0002/task0002_2.html">小练习2：倒计时</a>**</p>

        <h2 id="小练习3：轮播图组件"   >
          <a href="#小练习3：轮播图组件" class="heading-link"><i class="fas fa-link"></i></a><a href="#小练习3：轮播图组件" class="headerlink" title="小练习3：轮播图组件"></a>小练习3：轮播图组件</h2>
      
        <h3 id="任务描述-2"   >
          <a href="#任务描述-2" class="heading-link"><i class="fas fa-link"></i></a><a href="#任务描述-2" class="headerlink" title="任务描述"></a>任务描述</h3>
      <p>在和上一任务同一目录下面创建一个<code>task0002_3.html</code>文件，在<code>js</code>目录中创建<code>task0002_3.js</code>，并在其中编码，实现一个轮播图的功能。</p>
<ul>
<li>图片数量及URL均在HTML中写好</li>
<li>可以配置轮播的顺序（正序、逆序）、是否循环、间隔时长</li>
<li>图片切换的动画要流畅</li>
<li>在轮播图下方自动生成对应图片的小点，点击小点，轮播图自动动画切换到对应的图片</li>
</ul>
<p>效果示例：<span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://echarts.baidu.com/" >http://echarts.baidu.com/</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> 上面的轮播图（不需要做左右两个箭头）</p>

        <h3 id="实现思路-1"   >
          <a href="#实现思路-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#实现思路-1" class="headerlink" title="实现思路:"></a>实现思路:</h3>
      <blockquote>
<p>主要是对于考察对于定时器，以及事件绑定的处理，以及动画效果，为此我专门写了一篇博客《<a href="https://guowenfh.github.io/2015/12/21/JS-Animated-Frames/">JS完美运动框架的封装过程</a>》。 这里就直接使用里面封装好的函数了。</p>
<p>本来都要放弃组件的编写了，只想按照常规方法来写个轮播图就好，但是在先把小练习4完成的情况下，就发现了一种新方法，可以帮助我完成这个任务（强烈建议先看小练习四！）使用<code>nextElementNode</code>,图片向左切换。（不涉及任何css，我假设css都会了，也没有用到特别难css属性）</p>
</blockquote>
<p><strong>该轮播图有依赖函数。主要使用到以下函数：</strong></p>
<ul>
<li>选择器函数<code>$(class)</code>;</li>
<li>运动框架<code>startMove</code>。</li>
<li>同时在该函数引入时，还依赖于获取实际样式函数<code>getStyle</code>。</li>
<li>获取当前元素在同级元素的索引<code>getIndex</code>;</li>
<li>事件代理函数：<code>delegateEvent</code>。</li>
<li>添加class与删除class元素<code>addClass、romoveClass</code>。</li>
</ul>

        <h4 id="第一步：实现点击切换"   >
          <a href="#第一步：实现点击切换" class="heading-link"><i class="fas fa-link"></i></a><a href="#第一步：实现点击切换" class="headerlink" title="第一步：实现点击切换"></a>第一步：实现点击切换</h4>
      <p>编写幻灯片函数：<code>Slideshow(element)</code>。</p>
<ol>
<li>根据图片的数量创建与图片数量相同的导航小点：<code>ul&gt;li*length</code> 。设置其<code>li</code>样式，并且默认把第一个<code>li</code>设置为活动状态<code>className</code>为<code>active</code>。</li>
<li>编写点击函数<code>clickLi</code>：</li>
<li>给<code>li</code>添加事件代理函数。</li>
<li>据点击的li的索引值算出来动画的目标值，<code>-iCurrent * getIndex(this);</code></li>
<li>移除所有<code>li</code>上的选中状态<code>active</code>：编写函数<code>removeLiClass()</code>，在后面我们还要用到它。</li>
<li>设置当前点击的<code>li</code>为选中：状态<code>active</code></li>
<li>调用运动框架实现动画效果。</li>
</ol>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Slideshow</span>(<span class="params">element</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//1.创建li</span></span><br><span class="line">    <span class="keyword">var</span> imgArr = element.getElementsByTagName(<span class="string">&quot;img&quot;</span>); <span class="comment">//获取图片数量</span></span><br><span class="line">    <span class="keyword">var</span> imgArrLen = imgArr.length; <span class="comment">//缓存图片数量</span></span><br><span class="line">    <span class="keyword">var</span> createUl = <span class="built_in">document</span>.createElement(<span class="string">&quot;ul&quot;</span>); <span class="comment">//创建小点的ul</span></span><br><span class="line">    <span class="keyword">var</span> iCurrent = <span class="built_in">parseInt</span>(getStyle(imgArr[<span class="number">0</span>], <span class="string">&quot;width&quot;</span>)); <span class="comment">//获取一张图片的宽度</span></span><br><span class="line">    element.style.width = iCurrent * imgArrLen + <span class="string">&quot;px&quot;</span>; <span class="comment">//设置图片容器的宽度。</span></span><br><span class="line">    <span class="comment">//创建li</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = imgArrLen; i &lt; len; i++) &#123;</span><br><span class="line">        createUl.innerHTML += <span class="string">&quot;&lt;li&gt;&lt;/li&gt;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    element.parentNode.appendChild(createUl); <span class="comment">//插入导航</span></span><br><span class="line">    addClass(createUl, <span class="string">&quot;Slideshow-nav&quot;</span>); <span class="comment">//添加导航样式</span></span><br><span class="line">    addClass(createUl.getElementsByTagName(<span class="string">&quot;li&quot;</span>)[<span class="number">0</span>], <span class="string">&quot;active&quot;</span>); <span class="comment">//默认设置第一个为第当前活动的li</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//编写点击函数clickLi：</span></span><br><span class="line">    clickLi();</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 点击导航</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">clickLi</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        delegateEvent(createUl, <span class="string">&quot;li&quot;</span>, <span class="string">&quot;click&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> iTaget = -iCurrent * getIndex(<span class="built_in">this</span>);</span><br><span class="line">            removeLiClass();</span><br><span class="line">            addClass(<span class="built_in">this</span>, <span class="string">&quot;active&quot;</span>); <span class="comment">//移出</span></span><br><span class="line">            startMove(element, &#123;</span><br><span class="line">                <span class="string">&quot;left&quot;</span>: iTaget</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 用于移除所有的Li的选中状态：active</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">removeLiClass</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> oLi = createUl.getElementsByTagName(<span class="string">&quot;li&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = oLi.length; i &lt; len; i++) &#123;</span><br><span class="line">            removeClass(oLi[i], <span class="string">&quot;active&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>


        <h4 id="第二步：实现自动播放"   >
          <a href="#第二步：实现自动播放" class="heading-link"><i class="fas fa-link"></i></a><a href="#第二步：实现自动播放" class="headerlink" title="第二步：实现自动播放"></a>第二步：实现自动播放</h4>
      <blockquote>
<p>为了方便后续的封装，暂时只考虑：<strong>正序</strong>，<strong>不循环</strong>的情况！</p>
</blockquote>
<ol>
<li>创建自动播放函数<code>paly（）</code>,获取当前为选中状态<code>active</code>的li.</li>
<li>设置目标值，根据选中状态的索引+1 *width来设置。（注意是负值，同时考虑索引值+1为<code>length</code>的情况。）</li>
<li>因为不循环，需要在设置<code>(getIndex(heightLi)+1)===imgArrLen-1</code>清除定时器。(其实就是轮播到最后的时候，至于为什么是这样，可以自己研究一下，更改一下值。)</li>
<li>获取下一个元素节点，存在的话，取消现有选中状态，设置下一个元素节点为选择中，调用运动框架！实现动画，</li>
<li>添加定时器<code>setInterval()</code>，调用该函数，实现自动播放。</li>
</ol>
<ul>
<li>测试几次，你会发现：点击<code>li</code>和自动播放之间存在<strong>冲突</strong>，动画效果都没做完就播放下一张了，<strong>如何解决呢？</strong></li>
</ul>
<ol start="6">
<li>给图片容器添加一个鼠标移入和移除事件（<code>mouseover、mouseover</code>）也就是<code>hover</code>上去的效果</li>
</ol>
<ul>
<li>移入时，清除定时器，暂停播放。</li>
<li>移出时，开启定时器，继续轮播。</li>
<li>然后你会发现问题成功的解决了！（而且我观察了大部分的轮播，都是这个效果，移入暂停，移出继续)</li>
</ul>
<p>这里我们的最基本的功能都实现了，代码如下：(放在<code>Slideshow()</code>函数内部)</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> iSpeed = <span class="number">4000</span>;<span class="comment">//定时器间隔。</span></span><br><span class="line"></span><br><span class="line">hoverElement();</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 移入图片容器暂停，移除继续播放。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hoverElement</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    addEvent(element.parentNode, <span class="string">&quot;mouseover&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">    &#125;);</span><br><span class="line">    addEvent(element.parentNode, <span class="string">&quot;mouseout&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        timer = <span class="built_in">setInterval</span>(autoPlay, iSpeed);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> timer = <span class="literal">null</span>;</span><br><span class="line">timer = <span class="built_in">setInterval</span>(autoPlay, iSpeed);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 自动播放函数。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">autoPlay</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> heightLi = $(<span class="string">&quot;.Slideshow-nav .active&quot;</span>); <span class="comment">//高亮的li</span></span><br><span class="line">    <span class="keyword">var</span> iTaget;</span><br><span class="line">    iTaget = (getIndex(heightLi) + <span class="number">1</span>) === imgArrLen ? <span class="number">0</span> : (-iCurrent * (getIndex(heightLi) + <span class="number">1</span>));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (getIndex(heightLi) + <span class="number">1</span> === imgArrLen - <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> nextLi = heightLi.nextElementSibling;</span><br><span class="line">    <span class="keyword">if</span> (nextLi) &#123;</span><br><span class="line">        removeLiClass();</span><br><span class="line">        addClass(nextLi, <span class="string">&quot;active&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    startMove(element, &#123;</span><br><span class="line">        <span class="string">&quot;left&quot;</span>: iTaget</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>


        <h4 id="第三步：添加配置项（题目要求完成）"   >
          <a href="#第三步：添加配置项（题目要求完成）" class="heading-link"><i class="fas fa-link"></i></a><a href="#第三步：添加配置项（题目要求完成）" class="headerlink" title="第三步：添加配置项（题目要求完成）"></a>第三步：添加配置项（题目要求完成）</h4>
      <ol>
<li>获取题目要求：主要是以下三点。</li>
<li>是否循环，默认为循环。</li>
<li>是否反向，默认不反向。只有循环时，才可反向。</li>
<li>轮播间隔时间，默认4000。</li>
<li>如何实现？（使用JSON如下：）</li>
</ol>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @param &#123;JSON&#125;         option       配置项</span></span><br><span class="line"><span class="comment"> *   @config   &#123;String&#125;  noLoop       不循环？，默认为循环，只要存在则不循环，任意值</span></span><br><span class="line"><span class="comment"> *   @config   &#123;String&#125;  reverse      是否反向，任意值。只有“noLoop”不存在时，也就是只有循环时，才执行。</span></span><br><span class="line"><span class="comment"> *   @config   &#123;Number&#125;  intervalTime 轮播间隔时间（单位为毫秒），默认为4000，</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></div></figure>

<ol start="3">
<li>在<code>Slideshow()</code>内部，以下部分进行修改或添加。</li>
<li>先从简单的开始吧！判断<code>option.intervalTime</code>是否存在并且更改<code>iSpeed</code>的值（这样，轮播间隔时间配置就成功了），默认为4000毫秒。</li>
<li>改变自动播放（一）：<code>autoPlay</code>函数。这里是整个改造中最复杂的部分！分几步进行。</li>
<li>把刚刚写的<code>autoPlay</code>函数内的内容，除去<code>var heightLi = $(&quot;.Slideshow-nav .active&quot;); </code>、<code>var iTaget;</code>这两个内容，其他的都使用<code>if(option.noLoop)&#123;&#125;</code>包裹起来。<br>这样就又完成了一个内容，当配置为不循环时的情况，就写好了。</li>
<li>既然有<code>if</code><strong>不循环</strong>的情况,那么就肯定有<code>else</code>对应<strong>循环</strong>时的情况对吧?（笑）那么在里面应该怎么做呢？</li>
<li>第一次练习时，可以不添加函数，直接使用<code>if else</code>,对应正向与反向的情况！但是，在这里为了后面的进化，且不过多的阐述，就直接使用使用函数了，就叫他<code>play(reverse)</code>吧。<br>在这里当然传入的参数是<code>option.reverse</code>，</li>
<li>改变自动播放（二）：编写<code>play(reverse)</code>。</li>
<li>第一要务就是加入<code>if eles</code>啦，用来区分，true时为反向，false为正向（默认）。</li>
<li>先来说正向的情况！其实特别简单，有两步：</li>
</ol>
<ul>
<li> 第一步：删除<code>(getIndex(heightLi)+1)===imgArrLen-1</code>清除定时器的部分，只有这样才能实现循环，</li>
<li>第二步：在上面被提取到不循环的内容中(也就是第一版的<code>autoPlay()</code>)的<code>if (nextLi)</code>部分加上<code>else</code>的情况就行了！<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在下一个元素节点不存在的情况下（也就是到了最后了），设置第一个节点为活动状态，就这样正向的循环就成功了！</span></span><br><span class="line"> <span class="keyword">else</span> &#123;</span><br><span class="line">    removeLiClass();</span><br><span class="line">    addClass($(<span class="string">&quot;.Slideshow-nav li&quot;</span>), <span class="string">&quot;active&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure></li>
</ul>
<ol start="3">
<li>反向的情况(只需要对正向循环进行修改)：</li>
</ol>
<ul>
<li>改变目标值<code>iTaget</code>。<code>getIndex(heightLi) === 0 ? -iCurrent * (imgArrLen - 1) : -iCurrent * (getIndex(heightLi) - 1);</code></li>
<li>改变下一个元素节点，为前一个元素节点<code>previousElementSibling</code>。</li>
<li>改变上面<code>else</code>的情况，为设置最后一个节点为活动状态。代码就不贴了，有兴趣的看源码吧!</li>
</ul>
<ol start="6">
<li>到现在函数就修改完成了。只需要在循环的情况下，调用该函数，并且传入<code>option.reverse</code>。</li>
</ol>
<p>其实到这里我们题目要求就完成了！</p>
<p>但是！不挑战一下怎么能行？</p>
<p>为什么不把左右点击切换一起实现了呢？</p>
<p>既然这样，我们就继续吧！</p>

        <h4 id="第四步：扩展！左右箭头实现！"   >
          <a href="#第四步：扩展！左右箭头实现！" class="heading-link"><i class="fas fa-link"></i></a><a href="#第四步：扩展！左右箭头实现！" class="headerlink" title="第四步：扩展！左右箭头实现！"></a>第四步：扩展！左右箭头实现！</h4>
      <ol>
<li>创建并设置箭头样式(配合css使用)<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建左右导航</span></span><br><span class="line"><span class="keyword">var</span> createSpan = <span class="built_in">document</span>.createElement(<span class="string">&quot;div&quot;</span>);</span><br><span class="line">addClass(createSpan, <span class="string">&quot;left-right&quot;</span>)</span><br><span class="line">createSpan.innerHTML = <span class="string">&quot;&lt;span class=&#x27;nav-left&#x27;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#x27;nav-right&#x27;&gt;&amp;gt;&lt;/span&gt;&quot;</span></span><br><span class="line">element.parentNode.appendChild(createSpan);</span><br></pre></td></tr></table></div></figure></li>
<li>创建点击事件，事件代理。</li>
<li>炸裂的函数调用。</li>
</ol>
<ul>
<li>还记得我们刚刚的<code>play(reverse)</code>函数吗？刚刚的功能完全不用封装函数，那为什么要做呢？就是这里啦！</li>
<li>想想刚刚的函数实现了什么功能呢？是不是正向循环，和反向循环？，自动播放是因为在外层有定时器的缘故。</li>
<li>所以只需要调用传参就行了！</li>
</ul>
<ol start="4">
<li>传什么参数？</li>
</ol>
<ul>
<li>想想左右箭头的索引，是不是0和1。这样就懂了吧！</li>
<li>对索引进行取反。传参！代码如下：</li>
</ul>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">delegateEvent(createSpan, <span class="string">&quot;span&quot;</span>, <span class="string">&quot;click&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> heightLi = $(<span class="string">&quot;.Slideshow-nav .active&quot;</span>); <span class="comment">//高亮的待选li</span></span><br><span class="line">    <span class="keyword">var</span> leftIndex = !getIndex(<span class="built_in">this</span>); <span class="comment">//点击左时为true，点击又为false</span></span><br><span class="line">    <span class="comment">//移动的目标值，默认正向</span></span><br><span class="line">    play(leftIndex);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></div></figure>
<p>至此，我们的轮播图组件就完成了！ 需要配合CSS使用。 通过这次封装，收益良多，感兴趣的话可以看看<span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/guowenfh/IFE/tree/master/task0002" >源码</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
<p>在线演示：**<a href="https://guowenfh.github.io/IFE/task0002/task0002_3.html">小练习3：图片轮播组件</a>**</p>

        <h2 id="小练习4：输入提示框"   >
          <a href="#小练习4：输入提示框" class="heading-link"><i class="fas fa-link"></i></a><a href="#小练习4：输入提示框" class="headerlink" title="小练习4：输入提示框"></a>小练习4：输入提示框</h2>
      
        <h3 id="任务描述-3"   >
          <a href="#任务描述-3" class="heading-link"><i class="fas fa-link"></i></a><a href="#任务描述-3" class="headerlink" title="任务描述"></a>任务描述</h3>
      <p>在和上一任务同一目录下面创建一个<code>task0002_4.html</code>文件，在<code>js</code>目录中创建<code>task0002_4.js</code>，并在其中编码，实现一个类似百度搜索框的输入提示的功能。</p>
<p>要求如下：</p>
<ul>
<li>允许使用鼠标点击选中提示栏中的某个选项</li>
<li>允许使用键盘上下键来选中提示栏中的某个选项，回车确认选中</li>
<li>选中后，提示内容变更到输入框中</li>
</ul>
<p><strong>初级班：</strong></p>
<ul>
<li>不要求和后端交互，可以自己伪造一份提示数据例如：</li>
</ul>
<figure class="highlight ebnf"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">var suggestData</span> = [<span class="string">&#x27;Simon&#x27;</span>, <span class="string">&#x27;Erik&#x27;</span>, <span class="string">&#x27;Kener&#x27;</span>];</span><br></pre></td></tr></table></div></figure>

<p><strong>中级班：</strong></p>
<ul>
<li>自己搭建一个后端Server，使用Ajax来获取提示数据</li>
</ul>
<p>示例：</p>
<p><img src="https://github.com/baidu-ife/ife/raw/master/2015_spring/task/task0002/img/task0002_sug.png" alt="示例"></p>

        <h3 id="实现思路-2"   >
          <a href="#实现思路-2" class="heading-link"><i class="fas fa-link"></i></a><a href="#实现思路-2" class="headerlink" title="实现思路"></a>实现思路</h3>
      <p>这里我并没有一开始就直接进行数据获取的部分，而是进行了任务分解，如下：</p>

        <h4 id="第一阶段-1"   >
          <a href="#第一阶段-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#第一阶段-1" class="headerlink" title="第一阶段"></a>第一阶段</h4>
      <ol>
<li>先在使用写好的<code>ul&gt;li</code>标签下，。添加3个事件<code>mouseover</code>、<code>mouseout</code>、<code>click</code>。实现点击li使其值变成输入框内的值。（直接使用事件代理）</li>
<li>对输入框添加键盘事件（对，你没看错，只有在聚焦在输入框时才触发）</li>
</ol>
<ul>
<li>获取当前高亮的li。没有则设第一个为高亮<code>active</code>。</li>
<li>判断<code>keyCode</code>使用键盘下键,使用<code>nextElementSibling</code>方法获取下一个节点（向上同理）,取消当前的<code>active</code>，设置下一个为<code>active</code>。（使用键盘上下选中的效果,处理完成）</li>
<li>判断<code>keyCode</code>，获取当前状态为<code>active</code>的值，实现回车时，把其设为<code>input</code>的值。</li>
</ul>
<ol start="3">
<li>需要注意的地方：</li>
</ol>
<ul>
<li>在移除高亮状态时，最好是遍历一遍。因为键盘与鼠标划过有可能同时触发，导致有多个高亮。</li>
<li>错误处理</li>
</ul>

        <h4 id="第二阶段-1"   >
          <a href="#第二阶段-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#第二阶段-1" class="headerlink" title="第二阶段"></a>第二阶段</h4>
      <ol>
<li>删除原来的<code>ul&gt;li</code>html部分的<code>li</code>。添加对于输入框进行实时监听（这部分不在这里展开讲，如何实现大家去google吧，因为一展开就太多要说的了）。</li>
</ol>
<ul>
<li>给个参考：<span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://www.cnblogs.com/lhb25/archive/2012/11/30/oninput-and-onpropertychange-event-for-input.html" >实时监听输入框值变化</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li>
</ul>
<ol start="2">
<li>使用AJAX获取服务器上的数据，解析，遍历，并进行数据匹配。</li>
<li>匹配成功显示<code>ul</code>，否则设为<code>none</code>。</li>
<li>使用正则表达式的<code>match</code>方法，来获取匹配成功的把部分，使用<code>span</code>进行高亮显示。并且插入<code>ul</code></li>
<li>改造第一阶段的函数：</li>
</ol>
<ul>
<li>因为是使用的事件代理，直接对<code>ul</code>添加事件，所以需要修改的部分不是很多。</li>
<li><code>click</code>和<code>enter</code>部分获取的值，因为<code>span</code>标签的存在，需要使用正则进行处理，输出删除<code>span</code>后的值。</li>
</ul>
<p>在线演示：**<a href="https://guowenfh.github.io/IFE/task0002/task0002_4.html">小练习4：输入框即时提示</a>**</p>

        <h2 id="小练习5：界面拖拽交互"   >
          <a href="#小练习5：界面拖拽交互" class="heading-link"><i class="fas fa-link"></i></a><a href="#小练习5：界面拖拽交互" class="headerlink" title="小练习5：界面拖拽交互"></a>小练习5：界面拖拽交互</h2>
      <ul>
<li>实现一个可拖拽交互的界面</li>
<li>如示例图，左右两侧各有一个容器，里面的选项可以通过拖拽来左右移动</li>
<li>被选择拖拽的容器在拖拽过程后，在原容器中消失，跟随鼠标移动</li>
<li>注意拖拽释放后，要添加到准确的位置</li>
<li>拖拽到什么位置认为是可以添加到新容器的规则自己定</li>
<li>注意交互中良好的用户体验和使用引导</li>
</ul>
<p><img src="https://github.com/baidu-ife/ife/raw/master/2015_spring/task/task0002/img/task0002_drag.png" alt="示例"></p>

        <h3 id="实现思路："   >
          <a href="#实现思路：" class="heading-link"><i class="fas fa-link"></i></a><a href="#实现思路：" class="headerlink" title="实现思路："></a>实现思路：</h3>
      
        <h4 id="第一步：封装拖拽函数"   >
          <a href="#第一步：封装拖拽函数" class="heading-link"><i class="fas fa-link"></i></a><a href="#第一步：封装拖拽函数" class="headerlink" title="第一步：封装拖拽函数"></a>第一步：封装拖拽函数</h4>
      <blockquote>
<p>开一个DEMO页面，实践如下：</p>
</blockquote>
<ol>
<li>了解应该用到的事件，<code>onmousedown</code>、<code>onmousemove</code>、<code>onmouseup</code>。</li>
<li>思考<strong>对谁添加事件?</strong></li>
<li>在鼠标点击<code>div</code>时，对<code>div</code>添加<code>onmousedown</code>,表示鼠标按下。</li>
<li>在事件内给<code>document</code>添加<code>onmousemove</code>。（为啥给<code>document</code>加呢？因为给<code>div</code>加在移动过快时会跳出去）表示鼠标移动。</li>
<li>并且添加<code>document</code>添加<code>onmouseup</code>，表示鼠标已经抬起，清除移动事件，以及本身。</li>
<li>思考<strong>如何设置对象的位置？</strong></li>
<li>直接获取鼠标的位置并设置给<code>div</code>行不行呢？试试吧！显然，会出现问题，点击鼠标就到<code>div</code>左上角去了。</li>
<li>那么怎么改变呢？获取鼠标在<code>div</code>中的位置？对。就这样，在鼠标按下时记录鼠标在<code>div</code>中的位置.</li>
<li>在鼠标移动时，用当前的位置，减去刚刚的位置，这就是应该的值！</li>
<li>别忘了鼠标抬起时，需要清除事件，不然鼠标就粘住了。<blockquote>
<p>这里用到了event,事件对象的相关概念，推荐观看慕课网的视频。<span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://www.imooc.com/learn/138" >DOM事件探秘</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
</blockquote>
</li>
<li>善用this。</li>
</ol>
<p><strong>扩展</strong></p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 鼠标拖拽函数。</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;HTMLElement&#125;</span> </span>element 需要拖拽的对象</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setDrag</span>(<span class="params">element</span>) </span>&#123;</span><br><span class="line">    addEvent(element, <span class="string">&quot;mousedown&quot;</span>, onmousedown);</span><br><span class="line">    <span class="comment">//鼠标按下</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">onmousedown</span>(<span class="params">ev</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> oEvent = ev || event;</span><br><span class="line">        <span class="keyword">var</span> disX = oEvent.clientX - <span class="built_in">this</span>.offsetLeft;</span><br><span class="line">        <span class="keyword">var</span> disY = oEvent.clientY - <span class="built_in">this</span>.offsetTop;</span><br><span class="line">        <span class="keyword">var</span> that = <span class="built_in">this</span>;</span><br><span class="line">        addEvent(<span class="built_in">document</span>, <span class="string">&quot;mousemove&quot;</span>, onmousemove);</span><br><span class="line">        addEvent(<span class="built_in">document</span>, <span class="string">&quot;mouseup&quot;</span>, onmouseup);</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 鼠标移动</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">onmousemove</span>(<span class="params">ev</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> oEvent = ev || event;</span><br><span class="line">            that.style.left = oEvent.clientX - disX + <span class="string">&quot;px&quot;</span>;</span><br><span class="line">            that.style.top = oEvent.clientY - disY + <span class="string">&quot;px&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 鼠标抬起删除事件</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">onmouseup</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            removeEvent(<span class="built_in">document</span>, <span class="string">&quot;mousemove&quot;</span>, onmousemove);</span><br><span class="line">            removeEvent(<span class="built_in">document</span>, <span class="string">&quot;mouseup&quot;</span>, onmouseup);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>


        <h4 id="第二步：布局转换函数"   >
          <a href="#第二步：布局转换函数" class="heading-link"><i class="fas fa-link"></i></a><a href="#第二步：布局转换函数" class="headerlink" title="第二步：布局转换函数"></a>第二步：布局转换函数</h4>
      <ol>
<li>两个参数，第一个参数，传入父级对象。第二个参数传入标签名，</li>
<li>循环，使用数组，对象，获取标签当前元素的位置<code>left</code>，<code>top</code>。（<code>offsetLeft</code>）。这里不能使用获取实际样式函数，因为本身就需要获取其相对父元素的位置。</li>
<li>第二个循环</li>
</ol>
<ul>
<li>设置<code>left</code>，<code>top</code>值。</li>
<li>设置绝对定位。</li>
<li>取消原有的<code>margin</code>值。</li>
</ul>
<ol start="4">
<li>调用函数，把对象从文档流布局，变成绝对定位布局。</li>
</ol>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 布局转换函数</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;HTMLElment&#125;</span> </span>element  HTML对象</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string&#125;</span>     </span>childEle 其内需要转换的标签名</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toPosition</span>(<span class="params">element, childEle</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> eleArr = element.getElementsByTagName(childEle);</span><br><span class="line">    <span class="keyword">var</span> aPos = [];</span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = eleArr.length; i &lt; len; i++) &#123;</span><br><span class="line">        aPos[i] = &#123;</span><br><span class="line">            left: eleArr[i].offsetLeft,</span><br><span class="line">            top: eleArr[i].offsetTop</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = eleArr.length; i &lt; len; i++) &#123;</span><br><span class="line">        eleArr[i].style.left = aPos[i].left + <span class="string">&quot;px&quot;</span>;</span><br><span class="line">        eleArr[i].style.top = aPos[i].top + <span class="string">&quot;px&quot;</span>;</span><br><span class="line">        eleArr[i].style.position = <span class="string">&quot;absolute&quot;</span>;</span><br><span class="line">        eleArr[i].style.margin = <span class="string">&quot;0&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>在线演示：**<a href="https://guowenfh.github.io/IFE/task0002/task0002_5.html">小练习5：拖拽交互</a>**</p>

        <h4 id="第三步：实现拖拽"   >
          <a href="#第三步：实现拖拽" class="heading-link"><i class="fas fa-link"></i></a><a href="#第三步：实现拖拽" class="headerlink" title="第三步：实现拖拽"></a>第三步：实现拖拽</h4>
      <blockquote>
<p>前面我们已经实现了<code>setDrag(element)</code>函数，常规方法就是直使用循环，然后传入<code>element</code>。</p>
</blockquote>
<p>但是，为什么不用事件代理呢？</p>
<p>特别简单，只需要对上面写的函数进行一些简单的改装。</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">delegateEvent(parentElement, <span class="string">&quot;li&quot;</span>, <span class="string">&quot;mousedown&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">ev</span>) </span>&#123;</span><br><span class="line"><span class="comment">//此处是原函数中的内容。</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p><strong>现在知道为什么上面的函数会用到this了吧？</strong></p>

        <h4 id="第四步：碰撞检测函数"   >
          <a href="#第四步：碰撞检测函数" class="heading-link"><i class="fas fa-link"></i></a><a href="#第四步：碰撞检测函数" class="headerlink" title="第四步：碰撞检测函数"></a>第四步：碰撞检测函数</h4>
      <p>先来看张图：<br><img src="https://ws1.sinaimg.cn/large/82d12951gy1fewio5ne1oj20jg0bygm0.jpg" alt="碰撞检测示意图"></p>
<p>是不是有瞬间豁然开朗的感觉呢？</p>
<p>获取相关值，只需要考虑不碰不上的情况就行了！。如下：</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 碰撞检测函数</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param   <span class="type">&#123;object&#125;</span>  </span>obj1 对象1</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param   <span class="type">&#123;object&#125;</span>  </span>obj2 对象2</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns <span class="type">&#123;boolean&#125;</span> </span>碰撞时返回true，否则反正false</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hitDetection</span>(<span class="params">obj1, obj2</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//对象1的相关值</span></span><br><span class="line">    <span class="keyword">var</span> l1 = obj1.offsetLeft;</span><br><span class="line">    <span class="keyword">var</span> r1 = obj1.offsetLeft + obj1.offsetWidth;</span><br><span class="line">    <span class="keyword">var</span> t1 = obj1.offsetTop;</span><br><span class="line">    <span class="keyword">var</span> b1 = obj1.offsetTop + obj1.offsetHeight;</span><br><span class="line">    <span class="comment">//对象2的相关值</span></span><br><span class="line">    <span class="keyword">var</span> l2 = obj2.offsetLeft;</span><br><span class="line">    <span class="keyword">var</span> r2 = obj2.offsetLeft + obj2.offsetWidth;</span><br><span class="line">    <span class="keyword">var</span> t2 = obj2.offsetTop;</span><br><span class="line">    <span class="keyword">var</span> b2 = obj2.offsetTop + obj2.offsetHeight;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (r1 &lt; l1 || l1 &gt; r2 || b1 &lt; t2 || t1 &gt; b2) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;<span class="comment">//没碰上</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>


        <h4 id="第五步：处理各种碰撞情况"   >
          <a href="#第五步：处理各种碰撞情况" class="heading-link"><i class="fas fa-link"></i></a><a href="#第五步：处理各种碰撞情况" class="headerlink" title="第五步：处理各种碰撞情况"></a>第五步：处理各种碰撞情况</h4>
      <blockquote>
<p>这里讲起来就太复杂了。源代码中注释还是比较详细的，有兴趣可以看下</p>
</blockquote>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2015/12/21/JS-Animated-Frames/">JavaScript完美运动框架的进阶之旅</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2015-12-21</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2020-03-12</span></span><span class="post-meta-item post-meta-item--wordcount"><span class="post-meta-item__icon"><i class="far fa-file-word"></i></span><span class="post-meta-item__info">字数统计</span><span class="post-meta-item__value">3k</span></span><span class="post-meta-item post-meta-item--readtime"><span class="post-meta-item__icon"><i class="far fa-clock"></i></span><span class="post-meta-item__info">阅读时长</span><span class="post-meta-item__value">21分</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h2 id="运动框架的实现思路"   >
          <a href="#运动框架的实现思路" class="heading-link"><i class="fas fa-link"></i></a><a href="#运动框架的实现思路" class="headerlink" title="运动框架的实现思路"></a>运动框架的实现思路</h2>
      <blockquote>
<p>运动，其实就是在一段时间内改变<code>left</code>、<code>right</code>、<code>width</code>、<code>height</code>、<code>opactiy</code>的值，到达目的地之后停止。</p>
</blockquote>
<p>现在按照以下步骤来进行我们的运动框架的封装:</p>
<ol>
<li>匀速运动。</li>
<li>缓冲运动。</li>
<li>多物体运动。</li>
<li>任意值变化。</li>
<li>链式运动。</li>
<li>同时运动。</li>
</ol>

        <h2 id="（一）匀速运动"   >
          <a href="#（一）匀速运动" class="heading-link"><i class="fas fa-link"></i></a><a href="#（一）匀速运动" class="headerlink" title="（一）匀速运动"></a>（一）匀速运动</h2>
      
        <h3 id="速度动画"   >
          <a href="#速度动画" class="heading-link"><i class="fas fa-link"></i></a><a href="#速度动画" class="headerlink" title="速度动画"></a>速度动画</h3>
      
        <h4 id="运动基础"   >
          <a href="#运动基础" class="heading-link"><i class="fas fa-link"></i></a><a href="#运动基础" class="headerlink" title="运动基础"></a>运动基础</h4>
      <p>思考：<strong>如何让<code>div</code>动起来?</strong><br>如下：</p>
<ol>
<li>设置元素为绝对定位，只有绝对定位后，<code>left</code>,<code>top</code>等值才生效。</li>
<li>定时器的使用（动态改变值），这里使用<code>setInterval()</code>每隔指定的时间执行代码。</li>
</ol>
<ul>
<li>计时器<code>setInterval(函数,交互时间(毫秒))</code>：在执行时,从载入页面后每隔指定的时间执行代码。</li>
<li>取消计时器<code>clearInterval(函数)</code> 方法可取消由 <code>setInterval()</code> 设置的交互时间。</li>
</ul>
<ol start="3">
<li>获取当前的位置，大小等等。<code>offsetLeft</code>（当前元素相对父元素位置）。</li>
<li>速度–物体运动的快慢</li>
</ol>
<ul>
<li>定时器间隔时间</li>
<li>改变值的大小</li>
</ul>
<p>根据上面的信息我们就可以开始封装运动框架创建一个变化的<code>div</code>了。</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 运动框架-1-动起来</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;HTMLElement&#125;</span> </span>element 进行运动的节点</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> timer = <span class="literal">null</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">startMove</span>(<span class="params">element</span>) </span>&#123;</span><br><span class="line">    timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;<span class="comment">//定时器</span></span><br><span class="line">        element.style.left = element.offsetLeft + <span class="number">5</span> + <span class="string">&quot;px&quot;</span>;</span><br><span class="line">    &#125;, <span class="number">30</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>
<p>你没看错，就是那么简单。但是等等， what？ 怎么不会停？WTF？</p>
<p>那是因为我们没有运动终止条件。好再还是比较简单。直接在定时器内部，判断到达目标值，清除定时器就行拉！</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 运动框架-2-运动终止</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;HTMLElement&#125;</span> </span>element 进行运动的节点</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number&#125;</span>      </span>iTarget 运动终止条件。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> <span class="keyword">var</span> timer = <span class="literal">null</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">startMove</span>(<span class="params">element, iTarget</span>) </span>&#123;</span><br><span class="line">    timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        element.style.left = element.offsetLeft + <span class="number">5</span> + <span class="string">&quot;px&quot;</span>;</span><br><span class="line">        <span class="keyword">if</span> (element.offsetLeft === iTarget) &#123;<span class="comment">//停止条件</span></span><br><span class="line">            <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, <span class="number">30</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>
<p>就这样是不是就完成了呢？已经ok了呢？<br>no。还有一些Bug需要处理。</p>

        <h4 id="运动中的Bug"   >
          <a href="#运动中的Bug" class="heading-link"><i class="fas fa-link"></i></a><a href="#运动中的Bug" class="headerlink" title="运动中的Bug"></a>运动中的Bug</h4>
      <ol>
<li>速度取到某些值会无法停止</li>
<li>到达位置后再点击还会运动</li>
<li>重复点击速度加快</li>
<li>速度无法更改</li>
</ol>

        <h4 id="解决BUG"   >
          <a href="#解决BUG" class="heading-link"><i class="fas fa-link"></i></a><a href="#解决BUG" class="headerlink" title="解决BUG"></a>解决BUG</h4>
      <ol>
<li>速度取到某些值会无法停止（这个Bug稍后解决，在进化过程中自然解决）</li>
<li>把运动和停止隔开(if/else)</li>
<li>在开始运动时,关闭已有定时器</li>
<li>把速度用变量保存</li>
</ol>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 运动框架-3-解决Bug</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> timer = <span class="literal">null</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">startMove</span>(<span class="params">element, iTarget</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">clearInterval</span>(timer);<span class="comment">//在开始运动时,关闭已有定时器</span></span><br><span class="line">    timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> iSpeed = <span class="number">5</span>;<span class="comment">//把速度用变量保存</span></span><br><span class="line">        <span class="comment">//把运动和停止隔开(if/else)</span></span><br><span class="line">        <span class="keyword">if</span> (element.offsetLeft === iTarget) &#123;<span class="comment">//结束运动</span></span><br><span class="line">            <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            element.style.left = element.offsetLeft + iSpeed + <span class="string">&quot;px&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, <span class="number">30</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>
<p>这样一个简单的运动框架就完成了。但是，再等等。只能向右走？别急，我们不是定义了把速度变成为了变量吗？只需要对它进行一些处理就行啦！<br><code>var iSpeed = 5;</code><strong>–&gt;</strong></p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//判断距离目标位置，达到自动变化速度正负</span></span><br><span class="line"><span class="keyword">var</span> iSpeed = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span> (element.offsetLeft &lt; iTarget) &#123;</span><br><span class="line">    iSpeed = <span class="number">5</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    iSpeed = -<span class="number">5</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>



        <h3 id="透明度动画"   >
          <a href="#透明度动画" class="heading-link"><i class="fas fa-link"></i></a><a href="#透明度动画" class="headerlink" title="透明度动画"></a>透明度动画</h3>
      <ol>
<li>用变量<code>alpha</code>储存当前透明度。</li>
<li>把上面的<code>element.offsetLeft</code>改成变量<code>alpha</code>。</li>
<li>运动和停止条件部分进行更改。如下：</li>
</ol>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//透明度浏览器兼容实现</span></span><br><span class="line"><span class="keyword">if</span> (alpha === iTarget) &#123;</span><br><span class="line">    <span class="built_in">clearInterval</span>(time);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    alpha += speed;</span><br><span class="line">    element.style.filter = <span class="string">&#x27;alpha(opacity:&#x27;</span> + alpha + <span class="string">&#x27;)&#x27;</span>; <span class="comment">//兼容IE</span></span><br><span class="line">    element.style.opacity = alpha / <span class="number">100</span>;<span class="comment">//标准</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

        <h2 id="（二）缓冲动画"   >
          <a href="#（二）缓冲动画" class="heading-link"><i class="fas fa-link"></i></a><a href="#（二）缓冲动画" class="headerlink" title="（二）缓冲动画"></a>（二）缓冲动画</h2>
      <p>思考：<strong>怎么样才是缓冲动画？</strong></p>
<p>应该有以下几点：</p>
<ul>
<li>逐渐变慢,最后停止</li>
<li>距离越远速度越大</li>
<li>速度由距离决定</li>
<li>速度=(目标值-当前值)/缩放系数</li>
<li>Bug :速度取整(使用Math方法)，不然会闪</li>
<li> 向上取整。<code>Math.ceil(iSpeed)</code></li>
<li> 向下取整。<code>Math.floor(iSpeed)</code></li>
</ul>
<p>还是对速度作文章：</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 运动框架-4-缓冲动画</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">startMove</span>(<span class="params">element, iTarget</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">    timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//因为速度要动态改变，所以必须放在定时器中</span></span><br><span class="line">        <span class="keyword">var</span> iSpeed = (iTarget - element.offsetLeft) / <span class="number">10</span>; <span class="comment">//(目标值-当前值)/缩放系数=速度</span></span><br><span class="line">        iSpeed = iSpeed &gt; <span class="number">0</span> ? <span class="built_in">Math</span>.ceil(iSpeed) : <span class="built_in">Math</span>.floor(iSpeed); <span class="comment">//速度取整</span></span><br><span class="line">        <span class="keyword">if</span> (element.offsetLeft === iTarget) &#123;<span class="comment">//结束运动</span></span><br><span class="line">            <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            element.style.left = element.offsetLeft + iSpeed + <span class="string">&quot;px&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, <span class="number">30</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>
<ul>
<li>做到这里，（速度取到某些值会无法停止)这个Bug就自动解决啦！</li>
<li>例子:缓冲菜单</li>
<li>跟随页面滚动的缓冲侧边栏<br>在线演示：<span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://codepen.io/guowen921/pen/rxLOMd" >codepen</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li>
</ul>
<blockquote>
<p>潜在问题目标值不是整数时</p>
</blockquote>

        <h2 id="（三）多物体运动"   >
          <a href="#（三）多物体运动" class="heading-link"><i class="fas fa-link"></i></a><a href="#（三）多物体运动" class="headerlink" title="（三）多物体运动"></a>（三）多物体运动</h2>
      <p>思考：<strong>如何实现多物体运动？</strong></p>
<ul>
<li>单定时器，存在问题。每个div一个定时器</li>
<li>定时器作为对象的属性<ul>
<li>直接使用<code>element.timer</code>把定时器变成对象上的一个属性。</li>
</ul>
</li>
<li>参数的传递:物体/目标值<br>比较简单把上面框架的进行如下更改：<code>timer</code><strong>–&gt;</strong><code>element.timer</code></li>
</ul>
<p>就这样就行啦！</p>

        <h2 id="（四）任意值变化"   >
          <a href="#（四）任意值变化" class="heading-link"><i class="fas fa-link"></i></a><a href="#（四）任意值变化" class="headerlink" title="（四）任意值变化"></a>（四）任意值变化</h2>
      <p>咳咳。我们来给div加个1px的边框。<code>boder :1px solid #000</code></p>
<p>然后来试试下面的代码</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    oDiv.style.width = oDiv.offsetWidth - <span class="number">1</span> + <span class="string">&quot;px&quot;</span>;</span><br><span class="line">&#125;, <span class="number">30</span>)</span><br></pre></td></tr></table></div></figure>

<p>嗯，神奇的事情发生了！what？我设置的不是宽度在减吗？怎么尼玛增加了！ 不对啊，大兄弟。</p>
<p>究竟哪里出了问题呢？</p>
<p>一起找找资料，看看文档，原来<code>offset</code>这一系列的属性都会存在，被其他属性干扰的问题。</p>
<p>好吧，既然不能用，那么我们就顺便把任意值变化给做了吧。</p>

        <h3 id="第一步：获取实际样式"   >
          <a href="#第一步：获取实际样式" class="heading-link"><i class="fas fa-link"></i></a><a href="#第一步：获取实际样式" class="headerlink" title="第一步：获取实际样式"></a>第一步：获取实际样式</h3>
      <blockquote>
<p>使用offsetLeft..等获取样式时, 若设置了边框, padding, 等可以改变元素宽度高度的属性时会出现BUG..</p>
</blockquote>
<ul>
<li>通过查找发现<code>element.currentStyle(attr)</code>可以获取计算过之后的属性。</li>
<li>但是因为兼容性的问题，需封装getStyle函数。（万恶的IE）</li>
<li>当然配合CSS的<code>box-sizing</code>属性设为<code>border-box</code>可以达到一样的效果 ? (自认为，未验证)。</li>
</ul>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获取实际样式函数</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param   <span class="type">&#123;HTMLElement&#125;</span>   </span>element  需要寻找的样式的html节点</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param   <span class="type">&#123;String]&#125;</span> </span>attr 在对象中寻找的样式属性</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns <span class="type">&#123;String&#125;</span> </span>获取到的属性</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getStyle</span>(<span class="params">element, attr</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//IE写法</span></span><br><span class="line">    <span class="keyword">if</span> (element.currentStyle) &#123;</span><br><span class="line">        <span class="keyword">return</span> element.currentStyle[attr];</span><br><span class="line">    <span class="comment">//标准</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> getComputedStyle(element, <span class="literal">false</span>)[attr];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>


        <h3 id="第二步：改造原函数"   >
          <a href="#第二步：改造原函数" class="heading-link"><i class="fas fa-link"></i></a><a href="#第二步：改造原函数" class="headerlink" title="第二步：改造原函数"></a>第二步：改造原函数</h3>
      <ol>
<li>添加参数，<code>attr</code>表示需要改变的属性值。</li>
<li>更改<code>element.offsetLeft</code>为<code>getStyle(element, attr)</code>。</li>
</ol>
<ul>
<li>需要注意的是：<code>getStyle(element, attr)</code>不能直接使用，因为它获取到的字符串,例：<code>10px</code>。</li>
<li>变量<code>iCurrent</code>使用<code>parseInt()</code>,将样式转成数字。</li>
</ul>
<ol start="3">
<li><code>element.style.left</code>为<code>element.style[attr]</code>。</li>
</ol>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 运动框架-4-任意值变化</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;HTMLElement&#125;</span> </span>element 运动对象</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string&#125;</span>      </span>attr    需要改变的属性。</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number&#125;</span>      </span>iTarget 目标值</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">startMove</span>(<span class="params">element, attr, iTarget</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">clearInterval</span>(element.timer);</span><br><span class="line">    element.timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">//因为速度要动态改变，所以必须放在定时器中</span></span><br><span class="line">    <span class="keyword">var</span> iCurrent=<span class="number">0</span>;</span><br><span class="line">    iCurrent = <span class="built_in">parseInt</span>(getStyle(element, attr));<span class="comment">//实际样式大小</span></span><br><span class="line">        <span class="keyword">var</span> iSpeed = (iTarget - iCurrent) / <span class="number">10</span>; <span class="comment">//(目标值-当前值)/缩放系数=速度</span></span><br><span class="line">        iSpeed = iSpeed &gt; <span class="number">0</span> ? <span class="built_in">Math</span>.ceil(iSpeed) : <span class="built_in">Math</span>.floor(iSpeed); <span class="comment">//速度取整</span></span><br><span class="line">        <span class="keyword">if</span> (iCurrent === iTarget) &#123;<span class="comment">//结束运动</span></span><br><span class="line">            <span class="built_in">clearInterval</span>(element.timer);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            element.style[attr] = iCurrent + iSpeed + <span class="string">&quot;px&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, <span class="number">30</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>试一试，这样是不是就可以了呢？</p>
<blockquote>
<p>还记得上面我们写的透明度变化吗?  再试试</p>
</blockquote>
<p>果然还是不行， （废话，你见过透明度有”px”单位的么? - -<code>白眼</code> ）</p>

        <h3 id="第三步：透明度兼容处理"   >
          <a href="#第三步：透明度兼容处理" class="heading-link"><i class="fas fa-link"></i></a><a href="#第三步：透明度兼容处理" class="headerlink" title="第三步：透明度兼容处理"></a>第三步：透明度兼容处理</h3>
      <p>思考：<strong>需要对那些属性进行修改？</strong></p>
<ol>
<li>判断<code>attr</code>是不是透明度属性<code>opacity</code> 。</li>
<li>对于速度进行处理。</li>
</ol>
<ul>
<li>为透明度时，由于获取到的透明度会是小数，所以需要 * 100</li>
<li>并且由于计算机储存浮点数的问题，还需要将小数，进行四舍五入为整数。使用： <code>Math.round(parseFloat(getStyle(element, attr)) * 100)</code>。</li>
<li>否则，继续使用默认的速度。</li>
</ul>
<ol start="3">
<li>对结果输出部分进行更改。</li>
</ol>
<ul>
<li>判断是透明度属性，使用透明度方法</li>
<li>否则，使用使用默认的输出格式。</li>
</ul>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 运动框架-5-兼容透明度</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;HTMLElement&#125;</span> </span>element 运动对象</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string&#125;</span>      </span>attr    需要改变的属性。</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number&#125;</span>      </span>iTarget 目标值</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">startMove</span>(<span class="params">element, attr, iTarget</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">clearInterval</span>(element.timer);</span><br><span class="line">    element.timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">//因为速度要动态改变，所以必须放在定时器中</span></span><br><span class="line">        <span class="keyword">var</span> iCurrent = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (attr === <span class="string">&quot;opacity&quot;</span>) &#123; <span class="comment">//为透明度时执行。</span></span><br><span class="line">            iCurrent = <span class="built_in">Math</span>.round(<span class="built_in">parseFloat</span>(getStyle(element, attr)) * <span class="number">100</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123; <span class="comment">//默认情况</span></span><br><span class="line">            iCurrent = <span class="built_in">parseInt</span>(getStyle(element, attr)); <span class="comment">//实际样式大小</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> iSpeed = (iTarget - iCurrent) / <span class="number">10</span>; <span class="comment">//(目标值-当前值)/缩放系数=速度</span></span><br><span class="line">        iSpeed = iSpeed &gt; <span class="number">0</span> ? <span class="built_in">Math</span>.ceil(iSpeed) : <span class="built_in">Math</span>.floor(iSpeed); <span class="comment">//速度取整</span></span><br><span class="line">        <span class="keyword">if</span> (iCurrent === iTarget) &#123;<span class="comment">//结束运动</span></span><br><span class="line">            <span class="built_in">clearInterval</span>(element.timer);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (attr === <span class="string">&quot;opacity&quot;</span>) &#123; <span class="comment">//为透明度时，执行</span></span><br><span class="line">                element.style.filter = <span class="string">&quot;alpha(opacity:&quot;</span> + (iCurrent + iSpeed) + <span class="string">&quot;)&quot;</span>; <span class="comment">//IE</span></span><br><span class="line">                element.style.opacity = (iCurrent + iSpeed) / <span class="number">100</span>; <span class="comment">//标准</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123; <span class="comment">//默认</span></span><br><span class="line">                element.style[attr] = iCurrent + iSpeed + <span class="string">&quot;px&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, <span class="number">30</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>到这里，这个运动框架就基本上完成了。但是，我们是追求完美的不是吗？</p>
<p>继续进化！</p>

        <h2 id="（五）链式动画"   >
          <a href="#（五）链式动画" class="heading-link"><i class="fas fa-link"></i></a><a href="#（五）链式动画" class="headerlink" title="（五）链式动画"></a>（五）链式动画</h2>
      <blockquote>
<p>链式动画：顾名思义，就是在该次运动停止时，开始下一次运动。</p>
</blockquote>
<p>如何实现呢？</p>
<ul>
<li>使用回调函数：运动停止时,执行函数</li>
<li>添加<code>func</code>形参（回调函数）。</li>
<li>在当前属性到达目的地时<code>iCurrent === iTarget</code>，判断是否有回调函数存在，有则执行。</li>
</ul>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (iCurrent === iTarget) &#123;<span class="comment">//结束运动</span></span><br><span class="line">    <span class="built_in">clearInterval</span>(element.timer);</span><br><span class="line">    <span class="keyword">if</span> (func) &#123;</span><br><span class="line">        func();<span class="comment">//回调函数</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>good，链式动画完成！距离完美还差一步！</p>

        <h2 id="（六）同时运动"   >
          <a href="#（六）同时运动" class="heading-link"><i class="fas fa-link"></i></a><a href="#（六）同时运动" class="headerlink" title="（六）同时运动"></a>（六）同时运动</h2>
      <p>思考：<strong>如何实现同时运动？</strong></p>
<ol>
<li>使用JSON传递多个值</li>
<li>使用<code>for in</code>循环，遍历属性，与值。</li>
<li>定时器问题!(运动提前停止)</li>
</ol>
<ul>
<li>在循环外设置变量,假设所有的值都到达了目的值为true</li>
<li>在循环中检测是否到达目标值,若没有值未到则为false</li>
<li>在循环结束后,检测是否全部达到目标值.是则清除定时器</li>
</ul>
<p>实现：</p>
<ol>
<li>删除<code>attr</code>与<code>iTarget</code>两个形参，改为<code>json</code></li>
<li>在函数开始时，设置一个标记<code>var flag = true; //假设所有运动到达终点.</code></li>
<li>在定时器内使用<code>for in</code>，遍历属性与目标，改写原来的<code>attr</code>与<code>iTarget</code>，为json的属性与值</li>
<li>修改运动终止条件，只有每一项的实际属性值<code>iCurrent</code>，等于目标值<code>json[attr]</code>时，<code>flag</code>才为<code>true</code>。清除定时器，判断是否回调。</li>
<li>否则，继续执行代码，直到所有属性值等于目标值。</li>
</ol>

        <h2 id="完美运动框架"   >
          <a href="#完美运动框架" class="heading-link"><i class="fas fa-link"></i></a><a href="#完美运动框架" class="headerlink" title="完美运动框架"></a>完美运动框架</h2>
      <figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获取实际样式函数</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param   <span class="type">&#123;HTMLElement&#125;</span>   </span>element  需要寻找的样式的html节点</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param   <span class="type">&#123;String]&#125;</span> </span>attr 在对象中寻找的样式属性</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns <span class="type">&#123;String&#125;</span> </span>获取到的属性</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getStyle</span>(<span class="params">element, attr</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//IE写法</span></span><br><span class="line">    <span class="keyword">if</span> (element.currentStyle) &#123;</span><br><span class="line">        <span class="keyword">return</span> element.currentStyle[attr];</span><br><span class="line">        <span class="comment">//标准</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> getComputedStyle(element, <span class="literal">false</span>)[attr];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 完美运动框架</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;HTMLElement&#125;</span> </span>element 运动对象</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;JSON&#125;</span>        </span>json    属性：目标值      </span></span><br><span class="line"><span class="comment"> *   <span class="doctag">@property <span class="type">&#123;String&#125;</span> </span>attr    属性值</span></span><br><span class="line"><span class="comment"> *   <span class="doctag">@config   <span class="type">&#123;Number&#125;</span> </span>target  目标值</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;function&#125;</span>    </span>func    可选，回调函数，链式动画。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">startMove</span>(<span class="params">element, json, func</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> flag = <span class="literal">true</span>; <span class="comment">//假设所有运动到达终点.</span></span><br><span class="line">    <span class="built_in">clearInterval</span>(element.timer);</span><br><span class="line">    element.timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> attr <span class="keyword">in</span> json) &#123;</span><br><span class="line">            <span class="comment">//1.取当前的属性值。</span></span><br><span class="line">            <span class="keyword">var</span> iCurrent = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span> (attr === <span class="string">&quot;opacity&quot;</span>) &#123; <span class="comment">//为透明度时执行。</span></span><br><span class="line">                iCurrent = <span class="built_in">Math</span>.round(<span class="built_in">parseFloat</span>(getStyle(element, attr)) * <span class="number">100</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123; <span class="comment">//默认情况</span></span><br><span class="line">                iCurrent = <span class="built_in">parseInt</span>(getStyle(element, attr)); <span class="comment">//实际样式大小</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//2.算运动速度,动画缓冲效果</span></span><br><span class="line">            <span class="keyword">var</span> iSpeed = (json[attr] - iCurrent) / <span class="number">10</span>; <span class="comment">//(目标值-当前值)/缩放系数=速度</span></span><br><span class="line">            iSpeed = iSpeed &gt; <span class="number">0</span> ? <span class="built_in">Math</span>.ceil(iSpeed) : <span class="built_in">Math</span>.floor(iSpeed); <span class="comment">//速度取整</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//3.未到达目标值时，执行代码 </span></span><br><span class="line">            <span class="keyword">if</span> (iCurrent != json[attr]) &#123;</span><br><span class="line">                flag = <span class="literal">false</span>; <span class="comment">//终止条件</span></span><br><span class="line">                <span class="keyword">if</span> (attr === <span class="string">&quot;opacity&quot;</span>) &#123; <span class="comment">//为透明度时，执行</span></span><br><span class="line">                    element.style.filter = <span class="string">&quot;alpha(opacity:&quot;</span> + (iCurrent + iSpeed) + <span class="string">&quot;)&quot;</span>; <span class="comment">//IE</span></span><br><span class="line">                    element.style.opacity = (iCurrent + iSpeed) / <span class="number">100</span>; <span class="comment">//标准</span></span><br><span class="line">                &#125; <span class="keyword">else</span> &#123; <span class="comment">//默认</span></span><br><span class="line">                    element.style[attr] = iCurrent + iSpeed + <span class="string">&quot;px&quot;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                flag = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//4. 运动终止，是否回调</span></span><br><span class="line">            <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">                <span class="built_in">clearInterval</span>(element.timer);</span><br><span class="line">                <span class="keyword">if</span> (func) &#123;</span><br><span class="line">                    func();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, <span class="number">30</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

        <h2 id="运动框架总结"   >
          <a href="#运动框架总结" class="heading-link"><i class="fas fa-link"></i></a><a href="#运动框架总结" class="headerlink" title="运动框架总结"></a>运动框架总结</h2>
      <ul>
<li>运动框架演变过程</li>
</ul>
<div class="table-container"><table>
<thead>
<tr>
<th>框架</th>
<th>变化</th>
</tr>
</thead>
<tbody><tr>
<td>startMove(element)</td>
<td>运动</td>
</tr>
<tr>
<td>startMove(element,iTarget)</td>
<td>匀速–&gt;缓冲–&gt;多物体</td>
</tr>
<tr>
<td>startMove(element,attr,iTargrt)</td>
<td>任意值</td>
</tr>
<tr>
<td>startMove(element,attr,iTargrt,func)</td>
<td>链式运动</td>
</tr>
<tr>
<td>startMove(element,json,func)</td>
<td>多值(同时)–&gt;完美运动框架</td>
</tr>
</tbody></table></div>
</div></div></article></section><nav class="paginator"><div class="paginator-inner"><a class="extend prev" rel="prev" href="/page/9/"><i class="fas fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><span class="page-number current">10</span><a class="page-number" href="/page/11/">11</a><a class="page-number" href="/page/12/">12</a><a class="extend next" rel="next" href="/page/11/"><i class="fas fa-angle-right"></i></a></div></nav></div></div><div class="sidebar-wrap" id="sidebar-wrap"><aside class="sidebar" id="sidebar"><section class="sidebar-toc hide"></section><!-- ov = overview--><section class="sidebar-ov"><div class="sidebar-ov-author"><div class="sidebar-ov-author__avatar"><img class="sidebar-ov-author__avatar_img" src="https://ws1.sinaimg.cn/large/82d12951gy1fewv9toa2xj206y06ygnp.jpg" alt="avatar"></div><p class="sidebar-ov-author__text">芝兰生于深林，不以无人而不芳。</p></div><div class="sidebar-ov-social"><a class="sidebar-ov-social-item" href="https://github.com/guowenfh" target="_blank" rel="noopener" data-popover="Github" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fab fa-github"></i></span></a><a class="sidebar-ov-social-item" href="https://weibo.com/u/2194745681" target="_blank" rel="noopener" data-popover="微博" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fab fa-weibo"></i></span></a><a class="sidebar-ov-social-item" href="https://www.zhihu.com/people/guowenfh" target="_blank" rel="noopener" data-popover="知乎" data-popover-pos="up"><span class="sidebar-ov-social-item__icon">知</span></a><a class="sidebar-ov-social-item" href="mailto:guowen921@gmail.com" target="_blank" rel="noopener" data-popover="social.Gmail" data-popover-pos="up"><span class="sidebar-ov-social-item__icon">Gmail</span></a></div><div class="sidebar-ov-feed"><span class="sidebar-ov-feed-rss"><a class="sidebar-ov-feed-rss__link" href="/atom.xml" target="_blank" rel="noopener"><span class="sidebar-ov-feed-rss__icon"><i class="fas fa-rss"></i></span><span>RSS 订阅</span></a></span></div><div class="sidebar-ov-state"><a class="sidebar-ov-state-item sidebar-ov-state-item--posts" href="/archives/"><div class="sidebar-ov-state-item__count">70</div><div class="sidebar-ov-state-item__name">归档</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--categories" href="/categories/"><div class="sidebar-ov-state-item__count">19</div><div class="sidebar-ov-state-item__name">分类</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--tags" href="/tags/"><div class="sidebar-ov-state-item__count">35</div><div class="sidebar-ov-state-item__name">标签</div></a></div><div class="sidebar-ov-cc"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" target="_blank" rel="noopener" data-popover="知识共享许可协议" data-popover-pos="up"><img src="/images/cc-by-nc-sa.svg"></a></div></section></aside></div><div class="clearfix"></div></div></main><footer class="footer" id="footer"><div class="footer-inner"><div><span>Copyright © 2021</span><span class="footer__icon"><i class="fas fa-heart"></i></span><span>guowenfh</span><span class="footer__devider">|</span><span>浙ICP备17036927号-1</span></div><div><span>由 <a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a> 强力驱动</span><span> v5.4.0</span><span class="footer__devider">|</span><span>主题 - <a href="https://github.com/liuyib/hexo-theme-stun/" title="Stun" target="_blank" rel="noopener">Stun</a></span><span> v2.6.2</span></div></div></footer><div class="loading-bar" id="loading-bar"><div class="loading-bar__progress"></div></div><div class="back2top" id="back2top"><span class="back2top__icon"><i class="fas fa-rocket"></i></span></div></div><div class="search-mask"></div><div class="search-popup"><span class="search-close"></span><div class="search-input"><input placeholder="搜索文章（支持多关键词，请用空格分隔）"><div class="search-btns">使用搜索：<span class="search-btns-item search-btns-item--google"><i class="fab fa-google"></i>谷歌</span><span class="search-btns-item search-btns-item--bing"><i></i>必应</span><span class="search-btns-item search-btns-item--baidu"><i></i>百度</span></div></div><div class="search-results"></div></div><script src="https://cdn.jsdelivr.net/npm/jquery@v3.4.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.ui.min.js"></script><script>function initSearch() {
  var isXML = true;
  var search_path = 'search.json';

  if (!search_path) {
    search_path = 'search.xml';
  } else if (/json$/i.test(search_path)) {
    isXML = false;
  }

  var path = '/' + search_path;
  $.ajax({
    url: path,
    dataType: isXML ? 'xml' : 'json',
    async: true,
    success: function (res) {
      var datas = isXML ? $('entry', res).map(function () {
        // 将 XML 转为 JSON
        return {
          title: $('title', this).text(),
          content: $('content', this).text(),
          url: $('url', this).text()
        };
      }).get() : res;
      var $input = $('.search-input input');
      var $result = $('.search-results');
      // 搜索对象（标题、内容）的权重，影响显示顺序
      var WEIGHT = { title: 100, content: 1 };
      var searchPost = function () {
        var searchText = $input.val().toLowerCase().trim();
        // 根据空白字符分隔关键字
        var keywords = searchText.split(/[\s]+/);
        // 搜索结果
        var matchPosts = [];

        // 有多个关键字时，将原文字整个保存下来
        if (keywords.length > 1) {
          keywords.push(searchText);
        }
        // 防止未输入字符时搜索
        if (searchText.length > 0) {
          datas.forEach(function (data) {
            var isMatch  = false;
            // 没有标题的文章使用预设的 i18n 变量代替
            var title = (data.title && data.title.trim()) || '[ 文章无标题 ]';
            var titleLower = title && title.toLowerCase();
            // 删除 HTML 标签 和 所有空白字符
            var content = data.content && data.content.replace(/<[^>]+>/g, '');
            var contentLower = content && content.toLowerCase();
            // 删除重复的 /
            var postURL = data.url && decodeURI(data.url).replace(/\/{2,}/g, '/');
            // 标题中匹配到的关键词
            var titleHitSlice = [];
            // 内容中匹配到的关键词
            var contentHitSlice = [];

            keywords.forEach(function (keyword) {
              /**
              * 获取匹配的关键词的索引
              * @param {String} keyword 要匹配的关键字
              * @param {String} text 原文字
              * @param {Boolean} caseSensitive 是否区分大小写
              * @param {Number} weight 匹配对象的权重。权重大的优先显示
              * @return {Array}
              */
              function getIndexByword (word, text, caseSensitive, weight) {
                if (!word || !text) {
                  return [];
                };

                var startIndex = 0; // 每次匹配的开始索引
                var index = -1;     // 匹配到的索引值
                var result = [];    // 匹配结果

                if (!caseSensitive) {
                  word = word.toLowerCase();
                  text = text.toLowerCase();
                }

                while((index = text.indexOf(word, startIndex)) !== -1) {
                  var hasMatch = false;
                  // 索引位置相同的关键词，保留长度较长的
                  titleHitSlice.forEach(function (hit) {
                    if (hit.index === index && hit.word.length < word.length) {
                      hit.word = word;
                      hasMatch = true;
                    }
                  });
                  startIndex = index + word.length;
                  !hasMatch && result.push({ index: index, word: word, weight: weight });
                }
                return result;
              }
              titleHitSlice = titleHitSlice.concat(getIndexByword(keyword, titleLower, false, WEIGHT.title));
              contentHitSlice = contentHitSlice.concat(getIndexByword(keyword, contentLower, false, WEIGHT.content));
            });

            var hitTitle = titleHitSlice.length;
            var hitContent = contentHitSlice.length;

            if (hitTitle > 0 || hitContent > 0) {
              isMatch = true;
            }
            if (isMatch) {
              ;[titleHitSlice, contentHitSlice].forEach(function (hit) {
                // 按照匹配文字的索引的递增顺序排序
                hit.sort(function (left, right) {
                  return left.index - right.index;
                });
              });
              /**
              * 给文本中匹配到的关键词添加标记，从而进行高亮显示
              * @param {String} text 原文本
              * @param {Array} hitSlice 匹配项的索引信息
              * @param {Number} start 开始索引
              * @param {Number} end 结束索引
              * @return {String}
              */
              function highlightKeyword (text, hitSlice, start, end) {
                if (!text || !hitSlice || !hitSlice.length) {
                  return;
                }

                var result = '';
                var startIndex = start;
                var endIndex = end;
                hitSlice.forEach(function (hit) {
                  if (hit.index < startIndex) {
                    return;
                  }

                  var hitWordEnd = hit.index + hit.word.length;
                  result += text.slice(startIndex, hit.index);
                  result += '<b>' + text.slice(hit.index, hitWordEnd) + '</b>';
                  startIndex = hitWordEnd;
                });
                result += text.slice(startIndex, endIndex);
                return result;
              }

              var postData = {};
              // 文章总的搜索权重
              var postWeight = titleHitSlice.length * WEIGHT.title + contentHitSlice.length * WEIGHT.content;
              // 标记匹配关键词后的标题
              var postTitle = highlightKeyword(title, titleHitSlice, 0, title.length) || title;
              // 标记匹配关键词后的内容
              var postContent;
              // 显示内容的长度
              var SHOW_WORD_LENGTH = 200;
              // 命中关键词前的字符显示长度
              var SHOW_WORD_FRONT_LENGTH = 20;
              var SHOW_WORD_END_LENGTH = SHOW_WORD_LENGTH - SHOW_WORD_FRONT_LENGTH;

              // 截取匹配的第一个字符，前后共 200 个字符来显示
              if (contentHitSlice.length > 0) {
                var firstIndex = contentHitSlice[0].index;
                var start = firstIndex > SHOW_WORD_FRONT_LENGTH ? firstIndex - SHOW_WORD_FRONT_LENGTH : 0;
                var end = firstIndex + SHOW_WORD_END_LENGTH;
                postContent = highlightKeyword(content, contentHitSlice, start, end);
              } else { // 未匹配到内容，直接截取前 200 个字符来显示
                postContent = content.slice(0, SHOW_WORD_LENGTH);
              }
              postData.title = postTitle;
              postData.content = postContent;
              postData.url = postURL;
              postData.weight = postWeight;
              matchPosts.push(postData);
            }
          });
        }

        var resultInnerHtml = '';
        if (matchPosts.length) {
          // 按权重递增的顺序排序，使权重大的优先显示
          matchPosts.sort(function (left, right) {
            return right.weight - left.weight;
          });
          resultInnerHtml += '<ul>';
          matchPosts.forEach(function (post) {
            resultInnerHtml += '<li><a class="search-results-title" href="' + post.url + '">';
            resultInnerHtml += post.title;
            resultInnerHtml += '</a><div class="search-results-content">';
            resultInnerHtml += post.content;
            resultInnerHtml += '</div></li>';
          });
          resultInnerHtml += '</ul>';
        } else {
          resultInnerHtml += '<div class="search-results-none"><i class="far fa-meh"></i></div>';
        }
        $result.html(resultInnerHtml);
      };
      $input.on('input', searchPost);
      $input.on('keyup', function (e) {
        if (e.keyCode === Stun.utils.codeToKeyCode('Enter')) {
          searchPost();
        }
      });
    }
  });
}

function closeSearch () {
  $('body').css({ overflow: 'auto' });
  $('.search-popup').css({ display: 'none' });
  $('.search-mask').css({ display: 'none' });
}

window.addEventListener('DOMContentLoaded', function () {
  Stun.utils.pjaxReloadLocalSearch = function () {
    $('.header-nav-search').on('click', function (e) {
      e.stopPropagation();
      $('body').css('overflow', 'hidden');
      $('.search-popup')
        .velocity('stop')
        .velocity('transition.expandIn', {
          duration: 300,
          complete: function () {
            $('.search-popup input').focus();
          }
        });
      $('.search-mask')
        .velocity('stop')
        .velocity('transition.fadeIn', {
          duration: 300
        });

      initSearch();
    });
    $('.search-mask, .search-close').on('click', function () {
      closeSearch();
    });
    $(document).on('keydown', function (e) {
      // Escape <=> 27
      if (e.keyCode === Stun.utils.codeToKeyCode('Escape')) {
        closeSearch();
      }
    });
  };

  Stun.utils.pjaxReloadLocalSearch();
}, false);

function safeOpenUrl(url) {
  var newTab = window.open();
  newTab.opener = null;
  newTab.location = url;
}

function extSearch(engine) {
  var engines = {
    google: 'https://www.google.com/search?q=',
    bing: 'https://cn.bing.com/search?q=',
    baidu: 'https://www.baidu.com/s?ie=UTF-8&wd=',
  };
  var host = window.location.host;
  var query = $('.search-input input').val().toLowerCase().trim();
  var uri = engines[engine] + query + ' site:' + host;

  if (query) {
    safeOpenUrl(uri);
  } else {
    Stun.utils.popAlert('warning', '请输入字符');
  }
}

var assistSearchList = window.CONFIG.assistSearch;

if (Array.isArray(assistSearchList)) {
  assistSearchList.forEach(function (name) {
    document.querySelector('.search-btns-item--' + name).addEventListener('click', function () {
      extSearch(name);
    }, false);
  });
}</script><script src="https://cdn.jsdelivr.net/npm/quicklink@1.0.1/dist/quicklink.umd.js"></script><script>function initQuicklink() {
  quicklink({
    timeout: '10000',
    priority: true,
    ignores: [uri => uri.includes('#'), uri => uri === 'http://guowenfh.github.io/page/10/', /\/api\/?/,uri => uri.includes('.xml'),uri => uri.includes('.zip'),(uri, el) => el.hasAttribute('nofollow'),(uri, el) => el.hasAttribute('noprefetch')]
  });
}

if (false || false) {
  initQuicklink();
} else {
  window.addEventListener('DOMContentLoaded', initQuicklink, false);
}</script><script src="/js/utils.js?v=2.6.2"></script><script src="/js/stun-boot.js?v=2.6.2"></script><script src="/js/scroll.js?v=2.6.2"></script><script src="/js/header.js?v=2.6.2"></script><script src="/js/sidebar.js?v=2.6.2"></script><script type="application/json" src="/search.json"></script></body></html>